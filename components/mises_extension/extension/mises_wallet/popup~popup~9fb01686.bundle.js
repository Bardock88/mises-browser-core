(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1014:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.HasMapStore=void 0;const n=r(5);class i{constructor(e){this.creater=e,this.map=new Map,n.makeObservable(this)}get(e){if(!this.map.has(e)){const t=this.creater(e);n.runInAction(()=>{this.map.set(e,t)})}return this.map.get(e)}has(e){return this.map.has(e)}}s([n.observable.shallow],i.prototype,"map",void 0),t.HasMapStore=i},119:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1014),t),n(r(1232),t),n(r(1422),t),n(r(1423),t),n(r(1424),t)},1232:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1420),t),n(r(1421),t)},1234:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1430),t),n(r(1236),t),n(r(1235),t),n(r(1431),t)},1235:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryGovParamDeposit=t.ObservableQueryGovParamVoting=t.ObservableQueryGovParamTally=void 0;r=r(59);class s extends r.ObservableChainQuery{constructor(e,t,r){super(e,t,r,"/cosmos/gov/v1beta1/params/tallying")}}t.ObservableQueryGovParamTally=s;class n extends r.ObservableChainQuery{constructor(e,t,r){super(e,t,r,"/cosmos/gov/v1beta1/params/voting")}}t.ObservableQueryGovParamVoting=n;class i extends r.ObservableChainQuery{constructor(e,t,r){super(e,t,r,"/cosmos/gov/v1beta1/params/deposit")}}t.ObservableQueryGovParamDeposit=i},1236:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryProposal=void 0,r(59));const i=r(1237),o=r(5),a=r(26);class c extends n.ObservableChainQuery{constructor(e,t,r,s,n){super(e,t,r,`/cosmos/gov/v1beta1/proposals/${s.proposal_id}/tally`),this._raw=s,this.governance=n,o.makeObservable(this)}canFetch(){return this.proposalStatus===i.ProposalStatus.VOTING_PERIOD}get raw(){return this._raw}get proposalStatus(){switch(this.raw.status){case"PROPOSAL_STATUS_DEPOSIT_PERIOD":return i.ProposalStatus.DEPOSIT_PERIOD;case"PROPOSAL_STATUS_VOTING_PERIOD":return i.ProposalStatus.VOTING_PERIOD;case"PROPOSAL_STATUS_PASSED":return i.ProposalStatus.PASSED;case"PROPOSAL_STATUS_REJECTED":return i.ProposalStatus.REJECTED;case"PROPOSAL_STATUS_FAILED":return i.ProposalStatus.FAILED;default:return i.ProposalStatus.UNSPECIFIED}}get id(){return this.raw.proposal_id}get title(){return this.raw.content.title}get description(){return this.raw.content.description}get turnout(){var e,t=this.governance.getQueryPool(),r=t.bondedTokens.toDec();return!t.response||r.equals(new a.Dec(0))?new a.IntPretty(new a.Dec(0)).ready(!1):(e=(t=this.tally).yes.add(t.no).add(t.abstain).add(t.noWithVeto),new a.IntPretty(e.toDec().quoTruncate(r).mulTruncate(a.DecUtils.getPrecisionDec(2))).ready(t.yes.isReady))}get tally(){var e=this.chainGetter.getChain(this.chainId).stakeCurrency;return this.proposalStatus!==i.ProposalStatus.VOTING_PERIOD?{yes:new a.IntPretty(new a.Int(this.raw.final_tally_result.yes)).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),no:new a.IntPretty(new a.Int(this.raw.final_tally_result.no)).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),abstain:new a.IntPretty(new a.Int(this.raw.final_tally_result.abstain)).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),noWithVeto:new a.IntPretty(new a.Int(this.raw.final_tally_result.no_with_veto)).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals)}:this.response?{yes:new a.IntPretty(new a.Int(this.response.data.tally.yes)).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),no:new a.IntPretty(new a.Int(this.response.data.tally.no)).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),abstain:new a.IntPretty(new a.Int(this.response.data.tally.abstain)).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),noWithVeto:new a.IntPretty(new a.Int(this.response.data.tally.no_with_veto)).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals)}:{yes:new a.IntPretty(new a.Int(0)).ready(!1).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),no:new a.IntPretty(new a.Int(0)).ready(!1).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),abstain:new a.IntPretty(new a.Int(0)).ready(!1).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals),noWithVeto:new a.IntPretty(new a.Int(0)).ready(!1).moveDecimalPointLeft(e.coinDecimals).maxDecimals(e.coinDecimals)}}get total(){var e=this.tally,e=e.yes.add(e.no).add(e.abstain).add(e.noWithVeto),t=this.chainGetter.getChain(this.chainId).stakeCurrency;return new a.CoinPretty(t,e)}get tallyRatio(){var e=this.tally,t=e.yes.add(e.no).add(e.abstain).add(e.noWithVeto);return t.toDec().equals(new a.Dec(0))?{yes:new a.IntPretty(new a.Int(0)).ready(!1),no:new a.IntPretty(new a.Int(0)).ready(!1),abstain:new a.IntPretty(new a.Int(0)).ready(!1),noWithVeto:new a.IntPretty(new a.Int(0)).ready(!1)}:{yes:new a.IntPretty(e.yes.toDec().quoTruncate(t.toDec()).mulTruncate(a.DecUtils.getPrecisionDec(2))).ready(e.yes.isReady),no:new a.IntPretty(e.no.toDec().quoTruncate(t.toDec()).mulTruncate(a.DecUtils.getPrecisionDec(2))).ready(e.no.isReady),abstain:new a.IntPretty(e.abstain.toDec().quoTruncate(t.toDec()).mulTruncate(a.DecUtils.getPrecisionDec(2))).ready(e.abstain.isReady),noWithVeto:new a.IntPretty(e.noWithVeto.toDec().quoTruncate(t.toDec()).mulTruncate(a.DecUtils.getPrecisionDec(2))).ready(e.noWithVeto.isReady)}}}s([o.computed],c.prototype,"turnout",null),s([o.computed],c.prototype,"tally",null),s([o.computed],c.prototype,"total",null),s([o.computed],c.prototype,"tallyRatio",null),t.ObservableQueryProposal=c},1237:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProposalStatus=void 0,(t=t.ProposalStatus||(t.ProposalStatus={}))[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.DEPOSIT_PERIOD=1]="DEPOSIT_PERIOD",t[t.VOTING_PERIOD=2]="VOTING_PERIOD",t[t.PASSED=3]="PASSED",t[t.REJECTED=4]="REJECTED",t[t.FAILED=5]="FAILED"},1238:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1432),t),n(r(1433),t),n(r(1434),t),n(r(1435),t),n(r(1441),t),n(r(1442),t)},1239:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1443),t),n(r(1444),t),n(r(1445),t)},1240:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryAccount=t.ObservableQueryAccountInner=void 0,r(59));const i=r(5),o=r(16);class a extends n.ObservableChainQuery{constructor(e,t,r,s){super(e,t,r,"/cosmos/auth/v1beta1/accounts/"+s),this.bech32Address=s,i.makeObservable(this)}canFetch(){return 0<this.bech32Address.length}get sequence(){if(!this.response)return"0";try{return o.BaseAccount.fromProtoJSON(this.response.data,this.bech32Address).getSequence().toString()}catch(e){return"0"}}get isVestingAccount(){var e;return!!this.response&&!(null==(e=this.response.data)||!e.account.base_vesting_account)}}s([i.computed],a.prototype,"sequence",null),s([i.computed],a.prototype,"isVestingAccount",null),t.ObservableQueryAccountInner=a;class c extends n.ObservableChainQueryMap{constructor(e,t,r){super(e,t,r,e=>new a(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=r}getQueryBech32Address(e){return this.get(e)}}t.ObservableQueryAccount=c},1241:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1446),t),n(r(1447),t),n(r(1448),t)},1242:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1449),t),n(r(1450),t)},1243:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryCw20BalanceRegistry=t.ObservableQueryCw20BalanceInner=t.ObservableQueryCw20Balance=void 0;const i=r(5),n=r(27),o=r(26);var a=r(509);class c extends r(1244).ObservableCosmwasmContractChainQuery{constructor(e,t,r,s,n){super(e,t,r,s,{balance:{address:n}}),this.contractAddress=s,this.bech32Address=n}canFetch(){return super.canFetch()&&""!==this.bech32Address}}t.ObservableQueryCw20Balance=c;class u extends a.ObservableQueryBalanceInner{constructor(e,t,r,s,n){super(e,t,r,"",s),this.bech32Address=n,i.makeObservable(this),this.queryCw20Balance=new c(e,t,r,s.contractAddress,n)}canFetch(){return!1}*fetch(){yield this.queryCw20Balance.fetch()}get balance(){const t=this.denomHelper.denom;var e=this.chainGetter.getChain(this.chainId).currencies.find(e=>e.coinMinimalDenom===t);if(e)return this.queryCw20Balance.response&&this.queryCw20Balance.response.data.balance?new o.CoinPretty(e,new o.Int(this.queryCw20Balance.response.data.balance)):new o.CoinPretty(e,new o.Int(0)).ready(!1);throw new Error("Unknown currency: "+t)}}s([i.override],u.prototype,"fetch",null),s([i.computed],u.prototype,"balance",null),t.ObservableQueryCw20BalanceInner=u;t.ObservableQueryCw20BalanceRegistry=class{constructor(e){this.kvStore=e}getBalanceInner(e,t,r,s){s=new n.DenomHelper(s);if("cw20"===s.type)return new u(this.kvStore,e,t,s,r)}}},1244:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})},s=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableCosmwasmContractChainQuery=void 0,r(59));const n=r(4),o=r(5);class a extends s.ObservableChainQuery{constructor(e,t,r,s,n){super(e,t,r,a.getUrlFromObj(s,n)),this.contractAddress=s,this.obj=n}onStart(){return super.onStart(),new Promise(t=>{this.disposer=o.autorun(()=>{var e=this.chainGetter.getChain(this.chainId);e.features&&e.features.includes("wasmd_0.24+")?this.url.startsWith("/wasm/v1/")&&this.setUrl("/cosmwasm"+this.url):this.url.startsWith("/cosmwasm/")&&this.setUrl(""+this.url.replace("/cosmwasm","")),t()})})}onStop(){this.disposer&&(this.disposer(),this.disposer=void 0),super.onStop()}static getUrlFromObj(e,t){t=JSON.stringify(t);return`/wasm/v1/contract/${e}/smart/`+n.Buffer.from(t).toString("base64")}canFetch(){return 0!==this.contractAddress.length}fetchResponse(s){const n=Object.create(null,{fetchResponse:{get:()=>super.fetchResponse}});return i(this,void 0,void 0,function*(){var{response:e,headers:t}=yield n.fetchResponse.call(this,s),r=e.data;if(r)return{headers:t,response:{data:r.data,status:e.status,staled:!1,timestamp:Date.now()}};throw new Error("Failed to get the response from the contract")})}}t.ObservableCosmwasmContractChainQuery=a},1245:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQuerySecretContractCodeHash=t.ObservableQuerySecretContractCodeHashInner=void 0;r=r(59);class s extends r.ObservableChainQuery{constructor(e,t,r,s){super(e,t,r,`/wasm/contract/${s}/code-hash`),this.contractAddress=s}canFetch(){return 0<this.contractAddress.length}}t.ObservableQuerySecretContractCodeHashInner=s;class n extends r.ObservableChainQueryMap{constructor(e,t,r){super(e,t,r,e=>new s(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=r}getQueryContract(e){return this.get(e)}}t.ObservableQuerySecretContractCodeHash=n},1246:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},i=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQuerySecret20BalanceRegistry=t.ObservableQuerySecret20BalanceInner=t.ObservableQuerySecret20Balance=void 0;const c=r(5),n=r(27),o=r(26);var a=r(509),u=r(1247);const l=r(1248);class h extends u.ObservableSecretContractChainQuery{constructor(e,t,r,s,n,i,o,a){super(e,t,r,s,n,{balance:{address:i,key:o}},a),this.apiGetter=s,this.contractAddress=n,this.bech32Address=i,this.viewingKey=o,this.querySecretContractCodeHash=a,c.makeObservable(this),this.viewingKey||this.setError({status:0,statusText:"Viewing key is empty",message:"Viewing key is empty"})}canFetch(){return super.canFetch()&&""!==this.bech32Address&&""!==this.viewingKey}fetchResponse(r){const s=Object.create(null,{fetchResponse:{get:()=>super.fetchResponse}});var n;return i(this,void 0,void 0,function*(){var{response:e,headers:t}=yield s.fetchResponse.call(this,r);if(e.data.viewing_key_error)throw new l.WrongViewingKeyError(null==(n=e.data.viewing_key_error)?void 0:n.msg);return{headers:t,response:e}})}}t.ObservableQuerySecret20Balance=h;class d extends a.ObservableQueryBalanceInner{constructor(e,t,r,s,n,i,o){super(e,t,r,"",n),this.apiGetter=s,this.bech32Address=i,this.querySecretContractCodeHash=o,c.makeObservable(this);o="type"in(s=this.currency)&&"secret20"===s.type?s.viewingKey:"";this.querySecret20Balance=new h(e,t,r,this.apiGetter,n.contractAddress,i,o,this.querySecretContractCodeHash)}canFetch(){return!1}*fetch(){yield this.querySecret20Balance.fetch()}get isFetching(){return this.querySecretContractCodeHash.getQueryContract(this.denomHelper.contractAddress).isFetching||this.querySecret20Balance.isFetching}get error(){return this.querySecretContractCodeHash.getQueryContract(this.denomHelper.contractAddress).error||this.querySecret20Balance.error}get balance(){var e=this.denomHelper.denom,t=this.chainGetter.getChain(this.chainId).findCurrency(e);if(t)return this.querySecret20Balance.response&&this.querySecret20Balance.response.data.balance?new o.CoinPretty(t,new o.Int(this.querySecret20Balance.response.data.balance.amount)):new o.CoinPretty(t,new o.Int(0)).ready(!1);throw new Error("Unknown currency: "+e)}}s([c.override],d.prototype,"fetch",null),s([c.computed],d.prototype,"balance",null),t.ObservableQuerySecret20BalanceInner=d;t.ObservableQuerySecret20BalanceRegistry=class{constructor(e,t,r){this.kvStore=e,this.apiGetter=t,this.querySecretContractCodeHash=r}getBalanceInner(e,t,r,s){s=new n.DenomHelper(s);if("secret20"===s.type)return new d(this.kvStore,e,t,this.apiGetter,s,r,this.querySecretContractCodeHash)}}},1247:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},a=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableSecretContractChainQuery=void 0,r(59));const i=r(27),c=r(5),u=r(4);class o extends n.ObservableChainQuery{constructor(e,t,r,s,n,i,o){super(e,t,r,""),this.apiGetter=s,this.contractAddress=n,this.obj=i,this.querySecretContractCodeHash=o,this.keplr=void 0,this._isIniting=!1,c.makeObservable(this)}onStart(){const e=Object.create(null,{onStart:{get:()=>super.onStart}});return a(this,void 0,void 0,function*(){if(e.onStart.call(this),this.keplr||(yield this.initKeplr()),!this.keplr)throw new Error("Failed to get keplr");yield this.querySecretContractCodeHash.getQueryContract(this.contractAddress).waitResponse(),yield this.init()})}get isFetching(){return this.querySecretContractCodeHash.getQueryContract(this.contractAddress).isFetching||null==this.keplr||this._isIniting||super.isFetching}canFetch(){return!!this.querySecretContractCodeHash.getQueryContract(this.contractAddress).response&&0!==this.contractAddress.length&&null!=this.nonce}*initKeplr(){this.keplr=yield*i.toGenerator(this.apiGetter())}*init(){var e;this._isIniting=!0,this.keplr&&this.contractCodeHash&&(e=this.keplr.getEnigmaUtils(this.chainId),e=yield*i.toGenerator(e.encrypt(this.contractCodeHash,this.obj)),this.nonce=e.slice(0,32),e=u.Buffer.from(u.Buffer.from(e).toString("base64")).toString("hex"),this.setUrl(`/wasm/contract/${this.contractAddress}/query/${e}?encoding=hex`)),this._isIniting=!1}fetchResponse(n){const i=Object.create(null,{fetchResponse:{get:()=>super.fetchResponse}});var o;return a(this,void 0,void 0,function*(){let e,t;try{var r=yield i.fetchResponse.call(this,n);e=r.response,t=r.headers}catch(e){if(null!=(o=null==(o=e.response)?void 0:o.data)&&o.error){r=e.response.data.error,r=/rpc error: code = (.+) = encrypted: (.+): (.+)/g.exec(r);if(null!=r&&4===r.length){r=r[2],r=u.Buffer.from(r,"base64");if(this.keplr&&this.nonce){const s=yield this.keplr.getEnigmaUtils(this.chainId).decrypt(r,this.nonce);r=u.Buffer.from(s).toString();throw new Error(r)}}}throw e}r=e.data;if(!this.keplr)throw new Error("Keplr API not initialized");if(!this.nonce)throw new Error("Nonce is unknown");if(!r)throw new Error("Failed to get the response from the contract");const s=yield this.keplr.getEnigmaUtils(this.chainId).decrypt(u.Buffer.from(r.result.smart,"base64"),this.nonce);r=u.Buffer.from(u.Buffer.from(s).toString(),"base64").toString(),r=JSON.parse(r);return{headers:t,response:{data:r,status:e.status,staled:!1,timestamp:Date.now()}}})}getCacheKey(){return this.instance.name+"-"+this.instance.defaults.baseURL+this.instance.getUri({url:`/wasm/contract/${this.contractAddress}/query/${JSON.stringify(this.obj)}?encoding=json`})}get contractCodeHash(){var e=this.querySecretContractCodeHash.getQueryContract(this.contractAddress);if(e.response)return e.response.data.result}}s([c.observable.ref],o.prototype,"keplr",void 0),s([c.observable],o.prototype,"_isIniting",void 0),s([c.flow],o.prototype,"initKeplr",null),s([c.flow],o.prototype,"init",null),s([c.computed],o.prototype,"contractCodeHash",null),t.ObservableSecretContractChainQuery=o},1248:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WrongViewingKeyError=void 0;class s extends Error{constructor(e){super(e),Object.setPrototypeOf(this,s.prototype)}}t.WrongViewingKeyError=s},1249:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryTxFeesFeeTokens=void 0,r(59));const i=r(5),o=r(201);class a extends n.ObservableChainQuery{constructor(e,t,r){super(e,t,r,"/osmosis/txfees/v1beta1/fee_tokens"),this.isTxFeeToken=o.computedFn(e=>!!this.response&&!0===this.feeCurrenciesDenomMap.get(e)),i.makeObservable(this)}setResponse(e){super.setResponse(e);var t=this.chainGetter.getChain(this.chainId),e=e.data.fee_tokens.map(e=>e.denom);t.addUnknownCurrencies(...e)}get feeCurrenciesDenomMap(){var e=new Map;if(this.response)for(const t of this.response.data.fee_tokens)e.set(t.denom,!0);return e}get feeCurrencies(){if(!this.response)return[];var e=[],t=this.chainGetter.getChain(this.chainId);for(const s of this.response.data.fee_tokens){var r=t.findCurrency(s.denom);r&&e.push(r)}return e}}s([i.computed],a.prototype,"feeCurrenciesDenomMap",null),s([i.computed],a.prototype,"feeCurrencies",null),t.ObservableQueryTxFeesFeeTokens=a},1250:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryTxFeesSpotPriceByDenom=t.ObservableQueryTxFeesSpotPriceByDenomInner=void 0,r(59));const i=r(5),o=r(26);class a extends n.ObservableChainQuery{constructor(e,t,r,s){super(e,t,r,"osmosis/txfees/v1beta1/spot_price_by_denom?denom="+s),i.makeObservable(this)}get poolId(){return this.response?this.response.data.poolID:""}get spotPriceDec(){return this.response?new o.Dec(this.response.data.spot_price):new o.Dec(0)}}s([i.computed],a.prototype,"spotPriceDec",null),t.ObservableQueryTxFeesSpotPriceByDenomInner=a;class c extends n.ObservableChainQueryMap{constructor(e,t,r){super(e,t,r,e=>new a(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=r}getQueryDenom(e){return this.get(e)}}t.ObservableQueryTxFeesSpotPriceByDenom=c},1251:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryTxFeesBaseDenom=void 0;var s=r(59);const n=r(5);class i extends s.ObservableChainQuery{constructor(e,t,r){super(e,t,r,"/osmosis/txfees/v1beta1/base_denom"),n.makeObservable(this)}get baseDenom(){var e;return null!=(e=null==(e=this.response)?void 0:e.data.base_denom)?e:""}}t.ObservableQueryTxFeesBaseDenom=i},1256:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1504),t)},1257:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1505),t),n(r(1506),t)},1411:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1412),t),n(r(862),t),n(r(1413),t),n(r(1416),t),n(r(1417),t),n(r(1419),t),n(r(1425),t),n(r(628),t)},1412:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1413:function(e,i,t){"use strict";var p=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0}),i.CosmosAccountImpl=i.defaultCosmosMsgOpts=i.CosmosAccount=void 0;const f=t(862),y=t(27),h=t(26),v=t(100),g=t(626),b=t(1414),u=t(619),d=t(625),l=t(620),a=t(623),m=t(621),_=t(622),O=t(16),w=t(863),s=r(t(60)),o=r(t(167)),C=t(4),S=t(628),I=t(1415),P=t(265);i.CosmosAccount={use(n){return(e,t,r)=>{var s=n.msgOptsCreator?n.msgOptsCreator(r):void 0;return{cosmos:new c(e,t,r,n.queriesStore,o.default(i.defaultCosmosMsgOpts,s||{}),n)}}}},i.defaultCosmosMsgOpts={send:{native:{type:"cosmos-sdk/MsgSend",gas:8e4}},ibcTransfer:{type:"cosmos-sdk/MsgTransfer",gas:45e4},delegate:{type:"cosmos-sdk/MsgDelegate",gas:25e4},undelegate:{type:"cosmos-sdk/MsgUndelegate",gas:25e4},redelegate:{type:"cosmos-sdk/MsgBeginRedelegate",gas:25e4},withdrawRewards:{type:"cosmos-sdk/MsgWithdrawDelegationReward",gas:14e4},govVote:{type:"cosmos-sdk/MsgVote",gas:25e4}};class c{constructor(e,t,r,s,n,i){this.base=e,this.chainGetter=t,this.chainId=r,this.queriesStore=s,this._msgOpts=n,this.txOpts=i,this.broadcastMode="sync",this.base.registerMakeSendTokenFn(this.processMakeSendTokenTx.bind(this)),this.base.registerSendTokenFn(this.processSendToken.bind(this))}get msgOpts(){return this._msgOpts}processMakeSendTokenTx(t,r,e){var s;if("native"===new y.DenomHelper(r.coinMinimalDenom).type)return s=(()=>{let e=new h.Dec(t);return(e=e.mul(h.DecUtils.getPrecisionDec(r.coinDecimals))).truncate().toString()})(),O.Bech32Address.validate(e,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixAccAddr),e={type:this.msgOpts.send.native.type,value:{from_address:this.base.bech32Address,to_address:e,amount:[{denom:r.coinMinimalDenom,amount:s}]}},this.makeTx("send",{aminoMsgs:[e],protoMsgs:[{typeUrl:"/cosmos.bank.v1beta1.MsgSend",value:u.MsgSend.encode({fromAddress:e.value.from_address,toAddress:e.value.to_address,amount:e.value.amount}).finish()}],rlpTypes:{MsgValue:[{name:"from_address",type:"string"},{name:"to_address",type:"string"},{name:"amount",type:"TypeAmount[]"}],TypeAmount:[{name:"denom",type:"string"},{name:"amount",type:"string"}]}},e=>{null!=e.code&&0!==e.code||(e=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(e=>e.currency.coinMinimalDenom===r.coinMinimalDenom))&&e.fetch()})}processSendToken(t,r,s,n,i,o,a){var c;return p(this,void 0,void 0,function*(){var e;return"native"===new y.DenomHelper(r.coinMinimalDenom).type&&(e=(()=>{let e=new h.Dec(t);return(e=e.mul(h.DecUtils.getPrecisionDec(r.coinDecimals))).truncate().toString()})(),e={type:this.msgOpts.send.native.type,value:{from_address:this.base.bech32Address,to_address:s,amount:[{denom:r.coinMinimalDenom,amount:e}]}},yield this.sendMsgs("send",{aminoMsgs:[e],protoMsgs:[{typeUrl:"/cosmos.bank.v1beta1.MsgSend",value:u.MsgSend.encode({fromAddress:e.value.from_address,toAddress:e.value.to_address,amount:e.value.amount}).finish()}]},n,{amount:null!=(c=i.amount)?c:[],gas:null!=(c=i.gas)?c:this.msgOpts.send.native.gas.toString()},o,S.txEventsWithPreOnFulfill(a,e=>{null!=e.code&&0!==e.code||(e=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(e=>e.currency.coinMinimalDenom===r.coinMinimalDenom))&&e.fetch()})),!0)})}sendMsgs(r,s,a="",c,u,l){var h;return p(this,void 0,void 0,function*(){this.base.setTxNotification(""),this.base.setTxTypeInProgress(r);let n,i;try{"function"==typeof s&&(s=yield s());var e=yield this.broadcastMsgs(s,c,a,u,this.broadcastMode);n=e.txHash,i=e.signDoc}catch(e){throw this.base.setTxTypeInProgress(""),null!=(h=this.txOpts.preTxEvents)&&h.onBroadcastFailed&&this.txOpts.preTxEvents.onBroadcastFailed(this.chainId,e),l&&"onBroadcastFailed"in l&&l.onBroadcastFailed&&l.onBroadcastFailed(e),e}let t,o;l&&(o="function"==typeof l?l:(t=l.onBroadcasted,l.onFulfill)),null!=(h=this.txOpts.preTxEvents)&&h.onBroadcasted&&this.txOpts.preTxEvents.onBroadcasted(this.chainId,n),t&&t(n),this.txOpts.misesStore.portForTx(n).then(e=>{var t;this.base.setTxTypeInProgress(""),this.base.setTxNotification("success"),setTimeout(()=>{this.base.setTxNotification("")},2e3);for(const s of i.fee.amount){var r=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(e=>e.currency.coinMinimalDenom===s.denom);r&&r.fetch()}e&&!e.hash&&(e.hash=C.Buffer.from(n).toString("hex")),null!=(t=this.txOpts.preTxEvents)&&t.onFulfill&&this.txOpts.preTxEvents.onFulfill(this.chainId,e),o&&o(e)}).catch(e=>{})})}broadcastMsgs(a,c,u="",l,h="async"){var d;return p(this,void 0,void 0,function*(){if(this.base.walletStatus!==f.WalletStatus.Loaded)throw new Error("Wallet is not loaded: "+this.base.walletStatus);var e=a.aminoMsgs,t=a.protoMsgs;if(0===e.length||0===t.length)throw new Error("There is no msg to send");if(e.length!==t.length)throw new Error("The length of aminoMsgs and protoMsgs are different");var r=yield this.txOpts.misesStore.authAccounts(this.base.bech32Address);if(!r)throw new Error("not found account");r=P.accountFromAny(r);const s=!0===(null==(d=this.chainGetter.getChain(this.chainId).features)?void 0:d.includes("eth-key-sign")),n=s&&this.base.isNanoLedger;if(n&&!a.rlpTypes)throw new Error("RLP types information is needed for signing tx for ethermint chain with ledger");const i=yield this.base.getKeplr();r={chain_id:this.chainId,account_number:r.accountNumber.toString(),sequence:r.sequence.toString(),fee:c,msgs:e,memo:y.escapeHTML(u)};const o=y.sortObjectByKey(r);e=yield p(this,void 0,void 0,function*(){var e;return n?((e=Object.assign({},o)).fee.feePayer=this.base.bech32Address,yield i.experimentalSignEIP712CosmosTx_v0(this.chainId,this.base.bech32Address,{types:Object.assign({EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"string"},{name:"salt",type:"string"}],Tx:[{name:"account_number",type:"string"},{name:"chain_id",type:"string"},{name:"fee",type:"Fee"},{name:"memo",type:"string"},{name:"msgs",type:"Msg[]"},{name:"sequence",type:"string"}],Fee:[{name:"feePayer",type:"string"},{name:"amount",type:"Coin[]"},{name:"gas",type:"string"}],Coin:[{name:"denom",type:"string"},{name:"amount",type:"string"}],Msg:[{name:"type",type:"string"},{name:"value",type:"MsgValue"}]},a.rlpTypes),domain:{name:"Cosmos Web3",version:"1.0.0",chainId:O.EthermintChainIdHelper.parse(this.chainId).ethChainId.toString(),verifyingContract:"cosmos",salt:"0"},primaryType:"Tx"},e,l)):yield i.signAmino(this.chainId,this.base.bech32Address,o,l)}),r=v.TxRaw.encode({bodyBytes:v.TxBody.encode(v.TxBody.fromPartial({messages:t,memo:e.signed.memo,extensionOptions:n?[{typeUrl:"/ethermint.types.v1.ExtensionOptionsWeb3Tx",value:I.ExtensionOptionsWeb3Tx.encode(I.ExtensionOptionsWeb3Tx.fromPartial({typedDataChainId:O.EthermintChainIdHelper.parse(this.chainId).ethChainId.toString(),feePayer:this.base.bech32Address,feePayerSig:C.Buffer.from(e.signature.signature,"base64")})).finish()}]:void 0})).finish(),authInfoBytes:v.AuthInfo.encode({signerInfos:[{publicKey:{typeUrl:s?this.chainId.startsWith("injective")?"/injective.crypto.v1beta1.ethsecp256k1.PubKey":"/ethermint.crypto.v1.ethsecp256k1.PubKey":"/cosmos.crypto.secp256k1.PubKey",value:b.PubKey.encode({key:C.Buffer.from(e.signature.pub_key.value,"base64")}).finish()},modeInfo:{single:{mode:g.SignMode.SIGN_MODE_LEGACY_AMINO_JSON},multi:void 0},sequence:e.signed.sequence}],fee:v.Fee.fromPartial({amount:e.signed.fee.amount,gasLimit:e.signed.fee.gas,payer:n?e.signed.fee.feePayer:void 0})}).finish(),signatures:n?[new Uint8Array(0)]:[C.Buffer.from(e.signature.signature,"base64")]}).finish();return{txHash:yield i.sendTx(this.chainId,r,h),signDoc:e.signed}})}simulateTx(r,e,s=""){return p(this,void 0,void 0,function*(){var e=yield this.txOpts.misesStore.authAccounts(this.base.bech32Address),e=P.accountFromAny(e),e=yield this.txOpts.misesStore.simulate(r,s,e.pubkey,e.sequence),t=e.gasUsed.low;if(Number.isNaN(t))throw new Error("Invalid integer gas: "+e.gasUsed);return{gasUsed:t}})}makeTx(o,i,a){const c=(t={},r="")=>p(this,void 0,void 0,function*(){var e;return"function"==typeof i&&(i=yield i()),this.simulateTx(i.protoMsgs,{amount:null!=(e=t.amount)?e:[]},r)}),u=(t,r="",s,n)=>p(this,void 0,void 0,function*(){if(t.gas<0)throw new Error("Gas is zero or negative");var e={gas:t.gas.toString(),amount:t.gasPrice?[{denom:t.gasPrice.denom,amount:t.gasPrice.amount.mul(new h.Dec(t.gas)).truncate().toString()}]:[]};return this.sendMsgs(o,i,r,e,s,S.txEventsWithPreOnFulfill(n,a))});return{msgs:()=>p(this,void 0,void 0,function*(){return i="function"==typeof i?yield i():i}),simulate:c,simulateAndSend:(r,s="",n,i)=>p(this,void 0,void 0,function*(){this.base.setTxTypeInProgress(o);try{var e=(yield c({},s))["gasUsed"];if(e<0)throw new Error("Gas estimated is zero or negative");var t=Math.floor(r.gasAdjustment*e);return u({gas:t,gasPrice:r.gasPrice},s,n,i)}catch(e){throw this.base.setTxTypeInProgress(""),e}}),send:(e,t="",r,s)=>p(this,void 0,void 0,function*(){return this.sendMsgs(o,i,t,e,r,S.txEventsWithPreOnFulfill(s,a))}),sendWithGasPrice:u}}get instance(){var e=this.chainGetter.getChain(this.chainId);return s.default.create(Object.assign({baseURL:e.rest},e.restConfig))}makeIBCTransferTx(t,r,s,n){if("native"!==new y.DenomHelper(s.coinMinimalDenom).type)throw new Error("Only native token can be sent via IBC");const i=(()=>{let e=new h.Dec(r);return(e=e.mul(h.DecUtils.getPrecisionDec(s.coinDecimals))).truncate().toString()})(),o=this.queriesStore.get(t.counterpartyChainId).cosmos.queryRPCStatus;return this.makeTx("ibcTransfer",()=>p(this,void 0,void 0,function*(){if(yield o.waitFreshResponse(),!o.network)throw new Error("Failed to fetch the network chain id of "+t.counterpartyChainId);if(O.ChainIdHelper.parse(o.network).identifier!==O.ChainIdHelper.parse(t.counterpartyChainId).identifier)throw new Error(`Fetched the network chain id is different with counterparty chain id (${o.network}, ${t.counterpartyChainId})`);if(!o.latestBlockHeight||o.latestBlockHeight.equals(new h.Int("0")))throw new Error("Failed to fetch the latest block of "+t.counterpartyChainId);var e=!0===(null==(e=this.chainGetter.getChain(this.chainId).features)?void 0:e.includes("eth-key-sign"))&&this.base.isNanoLedger?"18446744073709551615":"0",e={type:this.msgOpts.ibcTransfer.type,value:{source_port:t.portId,source_channel:t.channelId,token:{denom:s.coinMinimalDenom,amount:i},sender:this.base.bech32Address,receiver:n,timeout_height:{revision_number:O.ChainIdHelper.parse(o.network).version.toString(),revision_height:o.latestBlockHeight.add(new h.Int("150")).toString()},timeout_timestamp:e}};return"0"===e.value.timeout_height.revision_number&&delete e.value.timeout_height.revision_number,"0"===e.value.timeout_timestamp&&delete e.value.timeout_timestamp,{aminoMsgs:[e],protoMsgs:[{typeUrl:"/ibc.applications.transfer.v1.MsgTransfer",value:d.MsgTransfer.encode(d.MsgTransfer.fromPartial({sourcePort:e.value.source_port,sourceChannel:e.value.source_channel,token:e.value.token,sender:e.value.sender,receiver:e.value.receiver,timeoutHeight:{revisionNumber:e.value.timeout_height.revision_number||"0",revisionHeight:e.value.timeout_height.revision_height},timeoutTimestamp:e.value.timeout_timestamp})).finish()}],rlpTypes:{MsgValue:[{name:"source_port",type:"string"},{name:"source_channel",type:"string"},{name:"token",type:"TypeToken"},{name:"sender",type:"string"},{name:"receiver",type:"string"},{name:"timeout_height",type:"TypeTimeoutHeight"},{name:"timeout_timestamp",type:"uint64"}],TypeToken:[{name:"denom",type:"string"},{name:"amount",type:"string"}],TypeTimeoutHeight:[{name:"revision_number",type:"uint64"},{name:"revision_height",type:"uint64"}]}}}),e=>{null!=e.code&&0!==e.code||(e=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(e=>e.currency.coinMinimalDenom===s.coinMinimalDenom))&&e.fetch()})}sendIBCTransferMsg(s,n,i,o,e="",a={},c,u){var l;return p(this,void 0,void 0,function*(){if("native"!==new y.DenomHelper(i.coinMinimalDenom).type)throw new Error("Only native token can be sent via IBC");const t=(()=>{let e=new h.Dec(n);return(e=e.mul(h.DecUtils.getPrecisionDec(i.coinDecimals))).truncate().toString()})(),r=this.queriesStore.get(s.counterpartyChainId).cosmos.queryRPCStatus;yield this.sendMsgs("ibcTransfer",()=>p(this,void 0,void 0,function*(){if(yield r.waitFreshResponse(),!r.network)throw new Error("Failed to fetch the network chain id of "+s.counterpartyChainId);if(O.ChainIdHelper.parse(r.network).identifier!==O.ChainIdHelper.parse(s.counterpartyChainId).identifier)throw new Error(`Fetched the network chain id is different with counterparty chain id (${r.network}, ${s.counterpartyChainId})`);if(!r.latestBlockHeight||r.latestBlockHeight.equals(new h.Int("0")))throw new Error("Failed to fetch the latest block of "+s.counterpartyChainId);var e={type:this.msgOpts.ibcTransfer.type,value:{source_port:s.portId,source_channel:s.channelId,token:{denom:i.coinMinimalDenom,amount:t},sender:this.base.bech32Address,receiver:o,timeout_height:{revision_number:O.ChainIdHelper.parse(r.network).version.toString(),revision_height:r.latestBlockHeight.add(new h.Int("150")).toString()}}};return"0"===e.value.timeout_height.revision_number&&delete e.value.timeout_height.revision_number,{aminoMsgs:[e],protoMsgs:[{typeUrl:"/ibc.applications.transfer.v1.MsgTransfer",value:d.MsgTransfer.encode(d.MsgTransfer.fromPartial({sourcePort:e.value.source_port,sourceChannel:e.value.source_channel,token:e.value.token,sender:e.value.sender,receiver:e.value.receiver,timeoutHeight:{revisionNumber:e.value.timeout_height.revision_number||"0",revisionHeight:e.value.timeout_height.revision_height}})).finish()}]}}),e,{amount:null!=(l=a.amount)?l:[],gas:null!=(l=a.gas)?l:this.msgOpts.ibcTransfer.gas.toString()},c,S.txEventsWithPreOnFulfill(u,e=>{null!=e.code&&0!==e.code||(e=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(e=>e.currency.coinMinimalDenom===i.coinMinimalDenom))&&e.fetch()}))})}makeDelegateTx(e,t){O.Bech32Address.validate(t,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixValAddr);var r=this.chainGetter.getChain(this.chainId).stakeCurrency;let s=new h.Dec(e);s=s.mulTruncate(h.DecUtils.getPrecisionDec(r.coinDecimals));e={type:this.msgOpts.delegate.type,value:{delegator_address:this.base.bech32Address,validator_address:t,amount:{denom:r.coinMinimalDenom,amount:s.truncate().toString()}}};return this.makeTx("delegate",{aminoMsgs:[e],protoMsgs:[{typeUrl:"/cosmos.staking.v1beta1.MsgDelegate",value:l.MsgDelegate.encode({delegatorAddress:e.value.delegator_address,validatorAddress:e.value.validator_address,amount:e.value.amount}).finish()}],rlpTypes:{MsgValue:[{name:"delegator_address",type:"string"},{name:"validator_address",type:"string"},{name:"amount",type:"TypeAmount"}],TypeAmount:[{name:"denom",type:"string"},{name:"amount",type:"string"}]}},e=>{null!=e.code&&0!==e.code||(this.queries.cosmos.queryValidators.getQueryStatus(w.BondStatus.Bonded).fetch(),this.queries.cosmos.queryDelegations.getQueryBech32Address(this.base.bech32Address).fetch(),this.queries.cosmos.queryRewards.getQueryBech32Address(this.base.bech32Address).fetch())})}sendDelegateMsg(r,s,n="",i={},o,a){var c;return p(this,void 0,void 0,function*(){var e=this.chainGetter.getChain(this.chainId).stakeCurrency;let t=new h.Dec(r);t=t.mulTruncate(h.DecUtils.getPrecisionDec(e.coinDecimals));e={type:this.msgOpts.delegate.type,value:{delegator_address:this.base.bech32Address,validator_address:s,amount:{denom:e.coinMinimalDenom,amount:t.truncate().toString()}}};yield this.sendMsgs("delegate",{aminoMsgs:[e],protoMsgs:[{typeUrl:"/cosmos.staking.v1beta1.MsgDelegate",value:l.MsgDelegate.encode({delegatorAddress:e.value.delegator_address,validatorAddress:e.value.validator_address,amount:e.value.amount}).finish()}]},n,{amount:null!=(c=i.amount)?c:[],gas:null!=(c=i.gas)?c:this.msgOpts.delegate.gas.toString()},o,S.txEventsWithPreOnFulfill(a,e=>{null!=e.code&&0!==e.code||(this.queries.cosmos.queryValidators.getQueryStatus(w.BondStatus.Bonded).fetch(),this.queries.cosmos.queryDelegations.getQueryBech32Address(this.base.bech32Address).fetch(),this.queries.cosmos.queryRewards.getQueryBech32Address(this.base.bech32Address).fetch())}))})}makeUndelegateTx(e,t){O.Bech32Address.validate(t,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixValAddr);var r=this.chainGetter.getChain(this.chainId).stakeCurrency;let s=new h.Dec(e);s=s.mulTruncate(h.DecUtils.getPrecisionDec(r.coinDecimals));e={type:this.msgOpts.undelegate.type,value:{delegator_address:this.base.bech32Address,validator_address:t,amount:{denom:r.coinMinimalDenom,amount:s.truncate().toString()}}};return this.makeTx("undelegate",{aminoMsgs:[e],protoMsgs:[{typeUrl:"/cosmos.staking.v1beta1.MsgUndelegate",value:l.MsgUndelegate.encode({delegatorAddress:e.value.delegator_address,validatorAddress:e.value.validator_address,amount:e.value.amount}).finish()}],rlpTypes:{MsgValue:[{name:"delegator_address",type:"string"},{name:"validator_address",type:"string"},{name:"amount",type:"TypeAmount"}],TypeAmount:[{name:"denom",type:"string"},{name:"amount",type:"string"}]}},e=>{null!=e.code&&0!==e.code||(this.queries.cosmos.queryValidators.getQueryStatus(w.BondStatus.Bonded).fetch(),this.queries.cosmos.queryDelegations.getQueryBech32Address(this.base.bech32Address).fetch(),this.queries.cosmos.queryUnbondingDelegations.getQueryBech32Address(this.base.bech32Address).fetch(),this.queries.cosmos.queryRewards.getQueryBech32Address(this.base.bech32Address).fetch())})}sendUndelegateMsg(r,s,n="",i={},o,a){var c;return p(this,void 0,void 0,function*(){var e=this.chainGetter.getChain(this.chainId).stakeCurrency;let t=new h.Dec(r);t=t.mulTruncate(h.DecUtils.getPrecisionDec(e.coinDecimals));e={type:this.msgOpts.undelegate.type,value:{delegator_address:this.base.bech32Address,validator_address:s,amount:{denom:e.coinMinimalDenom,amount:t.truncate().toString()}}};yield this.sendMsgs("undelegate",{aminoMsgs:[e],protoMsgs:[{typeUrl:"/cosmos.staking.v1beta1.MsgUndelegate",value:l.MsgUndelegate.encode({delegatorAddress:e.value.delegator_address,validatorAddress:e.value.validator_address,amount:e.value.amount}).finish()}]},n,{amount:null!=(c=i.amount)?c:[],gas:null!=(c=i.gas)?c:this.msgOpts.undelegate.gas.toString()},o,S.txEventsWithPreOnFulfill(a,e=>{null!=e.code&&0!==e.code||(this.queries.cosmos.queryValidators.getQueryStatus(w.BondStatus.Bonded).fetch(),this.queries.cosmos.queryDelegations.getQueryBech32Address(this.base.bech32Address).fetch(),this.queries.cosmos.queryUnbondingDelegations.getQueryBech32Address(this.base.bech32Address).fetch(),this.queries.cosmos.queryRewards.getQueryBech32Address(this.base.bech32Address).fetch())}))})}makeBeginRedelegateTx(e,t,r){O.Bech32Address.validate(t,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixValAddr),O.Bech32Address.validate(r,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixValAddr);var s=this.chainGetter.getChain(this.chainId).stakeCurrency;let n=new h.Dec(e);n=n.mulTruncate(h.DecUtils.getPrecisionDec(s.coinDecimals));e={type:this.msgOpts.redelegate.type,value:{delegator_address:this.base.bech32Address,validator_src_address:t,validator_dst_address:r,amount:{denom:s.coinMinimalDenom,amount:n.truncate().toString()}}};return this.makeTx("redelegate",{aminoMsgs:[e],protoMsgs:[{typeUrl:"/cosmos.staking.v1beta1.MsgBeginRedelegate",value:l.MsgBeginRedelegate.encode({delegatorAddress:e.value.delegator_address,validatorSrcAddress:e.value.validator_src_address,validatorDstAddress:e.value.validator_dst_address,amount:e.value.amount}).finish()}],rlpTypes:{MsgValue:[{name:"delegator_address",type:"string"},{name:"validator_src_address",type:"string"},{name:"validator_dst_address",type:"string"},{name:"amount",type:"TypeAmount"}],TypeAmount:[{name:"denom",type:"string"},{name:"amount",type:"string"}]}},e=>{null!=e.code&&0!==e.code||(this.queries.cosmos.queryValidators.getQueryStatus(w.BondStatus.Bonded).fetch(),this.queries.cosmos.queryDelegations.getQueryBech32Address(this.base.bech32Address).fetch(),this.queries.cosmos.queryRewards.getQueryBech32Address(this.base.bech32Address).fetch())})}sendBeginRedelegateMsg(r,s,n,i="",o={},a,c){var u;return p(this,void 0,void 0,function*(){var e=this.chainGetter.getChain(this.chainId).stakeCurrency;let t=new h.Dec(r);t=t.mulTruncate(h.DecUtils.getPrecisionDec(e.coinDecimals));e={type:this.msgOpts.redelegate.type,value:{delegator_address:this.base.bech32Address,validator_src_address:s,validator_dst_address:n,amount:{denom:e.coinMinimalDenom,amount:t.truncate().toString()}}};yield this.sendMsgs("redelegate",{aminoMsgs:[e],protoMsgs:[{typeUrl:"/cosmos.staking.v1beta1.MsgBeginRedelegate",value:l.MsgBeginRedelegate.encode({delegatorAddress:e.value.delegator_address,validatorSrcAddress:e.value.validator_src_address,validatorDstAddress:e.value.validator_dst_address,amount:e.value.amount}).finish()}]},i,{amount:null!=(u=o.amount)?u:[],gas:null!=(u=o.gas)?u:this.msgOpts.redelegate.gas.toString()},a,S.txEventsWithPreOnFulfill(c,e=>{null!=e.code&&0!==e.code||(this.queries.cosmos.queryValidators.getQueryStatus(w.BondStatus.Bonded).fetch(),this.queries.cosmos.queryDelegations.getQueryBech32Address(this.base.bech32Address).fetch(),this.queries.cosmos.queryRewards.getQueryBech32Address(this.base.bech32Address).fetch())}))})}makeWithdrawDelegationRewardTx(e){for(const t of e)O.Bech32Address.validate(t,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixValAddr);e=e.map(e=>({type:this.msgOpts.withdrawRewards.type,value:{delegator_address:this.base.bech32Address,validator_address:e}}));return this.makeTx("withdrawRewards",{aminoMsgs:e,protoMsgs:e.map(e=>({typeUrl:"/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward",value:a.MsgWithdrawDelegatorReward.encode({delegatorAddress:e.value.delegator_address,validatorAddress:e.value.validator_address}).finish()})),rlpTypes:{MsgValue:[{name:"delegator_address",type:"string"},{name:"validator_address",type:"string"}]}},e=>{null!=e.code&&0!==e.code||this.queries.cosmos.queryRewards.getQueryBech32Address(this.base.bech32Address).fetch()})}sendWithdrawDelegationRewardMsgs(t,r="",s={},n,i){var o;return p(this,void 0,void 0,function*(){var e=t.map(e=>({type:this.msgOpts.withdrawRewards.type,value:{delegator_address:this.base.bech32Address,validator_address:e}}));yield this.sendMsgs("withdrawRewards",{aminoMsgs:e,protoMsgs:e.map(e=>({typeUrl:"/cosmos.distribution.v1beta1.MsgWithdrawDelegatorReward",value:a.MsgWithdrawDelegatorReward.encode({delegatorAddress:e.value.delegator_address,validatorAddress:e.value.validator_address}).finish()}))},r,{amount:null!=(o=s.amount)?o:[],gas:null!=(o=s.gas)?o:(this.msgOpts.withdrawRewards.gas*t.length).toString()},n,S.txEventsWithPreOnFulfill(i,e=>{null!=e.code&&0!==e.code||this.queries.cosmos.queryRewards.getQueryBech32Address(this.base.bech32Address).fetch()}))})}makeGovVoteTx(t,e){var r=(()=>{switch(e){case"Yes":return 1;case"Abstain":return 2;case"No":return 3;case"NoWithVeto":return 4}})();const s={type:this.msgOpts.govVote.type,value:{option:r,proposal_id:t,voter:this.base.bech32Address}};return this.makeTx("govVote",{aminoMsgs:[s],protoMsgs:[{typeUrl:"/cosmos.gov.v1beta1.MsgVote",value:m.MsgVote.encode({proposalId:s.value.proposal_id,voter:s.value.voter,option:(()=>{switch(s.value.option){case 1:return _.VoteOption.VOTE_OPTION_YES;case 2:return _.VoteOption.VOTE_OPTION_ABSTAIN;case 3:return _.VoteOption.VOTE_OPTION_NO;case 4:return _.VoteOption.VOTE_OPTION_NO_WITH_VETO;default:return _.VoteOption.VOTE_OPTION_UNSPECIFIED}})()}).finish()}],rlpTypes:{MsgValue:[{name:"proposal_id",type:"uint64"},{name:"voter",type:"string"},{name:"option",type:"int32"}]}},e=>{null!=e.code&&0!==e.code||((e=this.queries.cosmos.queryGovernance.proposals.find(e=>e.id===t))&&e.fetch(),this.queries.cosmos.queryProposalVote.getVote(t,this.base.bech32Address).fetch())})}sendGovVoteMsg(r,s,n="",i={},o,a){var c;return p(this,void 0,void 0,function*(){var e=(()=>{switch(s){case"Yes":return 1;case"Abstain":return 2;case"No":return 3;case"NoWithVeto":return 4}})();const t={type:this.msgOpts.govVote.type,value:{option:e,proposal_id:r,voter:this.base.bech32Address}};yield this.sendMsgs("govVote",{aminoMsgs:[t],protoMsgs:[{typeUrl:"/cosmos.gov.v1beta1.MsgVote",value:m.MsgVote.encode({proposalId:t.value.proposal_id,voter:t.value.voter,option:(()=>{switch(t.value.option){case 1:return _.VoteOption.VOTE_OPTION_YES;case 2:return _.VoteOption.VOTE_OPTION_ABSTAIN;case 3:return _.VoteOption.VOTE_OPTION_NO;case 4:return _.VoteOption.VOTE_OPTION_NO_WITH_VETO;default:return _.VoteOption.VOTE_OPTION_UNSPECIFIED}})()}).finish()}]},n,{amount:null!=(c=i.amount)?c:[],gas:null!=(c=i.gas)?c:this.msgOpts.govVote.gas.toString()},o,S.txEventsWithPreOnFulfill(a,e=>{null!=e.code&&0!==e.code||((e=this.queries.cosmos.queryGovernance.proposals.find(e=>e.id===r))&&e.fetch(),this.queries.cosmos.queryProposalVote.getVote(r,this.base.bech32Address).fetch())}))})}get queries(){return this.queriesStore.get(this.chainId)}}i.CosmosAccountImpl=c},1416:function(e,t,r){"use strict";var s=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.getKeplrFromWindow=void 0;t.getKeplrFromWindow=()=>s(void 0,void 0,void 0,function*(){if("undefined"!=typeof window)return window.misesWallet||("complete"===document.readyState?window.misesWallet:new Promise(t=>{const r=e=>{e.target&&"complete"===e.target.readyState&&(t(window.misesWallet),document.removeEventListener("readystatechange",r))};document.addEventListener("readystatechange",r)}))})},1417:function(e,i,t){"use strict";var l=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0}),i.SecretAccountImpl=i.defaultSecretMsgOpts=i.SecretAccount=void 0;const h=t(4),u=t(27),d=t(1418),p=t(16),f=t(26),o=r(t(167)),y=t(628);i.SecretAccount={use(n){return(e,t,r)=>{var s=n.msgOptsCreator?n.msgOptsCreator(r):void 0;return{secret:new a(e,t,r,n.queriesStore,o.default(i.defaultSecretMsgOpts,s||{}))}}}},i.defaultSecretMsgOpts={send:{secret20:{gas:25e4}},createSecret20ViewingKey:{gas:15e4},executeSecretWasm:{type:"wasm/MsgExecuteContract"}};class a{constructor(e,t,r,s,n){this.base=e,this.chainGetter=t,this.chainId=r,this.queriesStore=s,this._msgOpts=n,this.base.registerMakeSendTokenFn(this.processMakeSendTokenTx.bind(this)),this.base.registerSendTokenFn(this.processSendToken.bind(this))}get msgOpts(){return this._msgOpts}processMakeSendTokenTx(t,r,e){if("secret20"===new u.DenomHelper(r.coinMinimalDenom).type){var s=(()=>{let e=new f.Dec(t);return(e=e.mul(f.DecUtils.getPrecisionDec(r.coinDecimals))).truncate().toString()})();if("type"in r&&"secret20"===r.type)return p.Bech32Address.validate(e,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixAccAddr),this.makeExecuteSecretContractTx("send",r.contractAddress,{transfer:{recipient:e,amount:s}},[],e=>{null!=e.code&&0!==e.code||(e=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(e=>e.currency.coinMinimalDenom===r.coinMinimalDenom))&&e.fetch()});throw new Error("Currency is not secret20")}}processSendToken(t,r,s,n,i,o,a){var c;return l(this,void 0,void 0,function*(){var e=new u.DenomHelper(r.coinMinimalDenom);if("secret20"!==e.type)return!1;e=(()=>{let e=new f.Dec(t);return(e=e.mul(f.DecUtils.getPrecisionDec(r.coinDecimals))).truncate().toString()})();if("type"in r&&"secret20"===r.type)return yield this.sendExecuteSecretContractMsg("send",r.contractAddress,{transfer:{recipient:s,amount:e}},[],n,{amount:null!=(c=i.amount)?c:[],gas:null!=(c=i.gas)?c:this.msgOpts.send.secret20.gas.toString()},o,y.txEventsWithPreOnFulfill(a,e=>{null!=e.code&&0!==e.code||(e=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(e=>e.currency.coinMinimalDenom===r.coinMinimalDenom))&&e.fetch()})),!0;throw new Error("Currency is not secret20")})}createSecret20ViewingKey(t,s="",n={},i,o){var a;return l(this,void 0,void 0,function*(){var e=new Uint8Array(32);crypto.getRandomValues(e);const r=h.Buffer.from(e).toString("hex");yield this.makeExecuteSecretContractTx("createSecret20ViewingKey",t,{set_viewing_key:{key:r}},[]).send({amount:null!=(a=n.amount)?a:[],gas:null!=(a=n.gas)?a:this.msgOpts.createSecret20ViewingKey.gas.toString()},s,i,e=>{let t="";null!=e.code&&0!==e.code||(t=r),o&&o(e,t)})})}makeExecuteSecretContractTx(e="executeSecretWasm",t,r,s,n){p.Bech32Address.validate(t,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixAccAddr);let i;return this.base.cosmos.makeTx(e,()=>l(this,void 0,void 0,function*(){i=yield this.encryptSecretContractMsg(t,r);var e={type:this.msgOpts.executeSecretWasm.type,value:{sender:this.base.bech32Address,contract:t,msg:h.Buffer.from(i).toString("base64"),sent_funds:s}};return{aminoMsgs:[e],protoMsgs:[{typeUrl:"/secret.compute.v1beta1.MsgExecuteContract",value:d.MsgExecuteContract.encode(d.MsgExecuteContract.fromPartial({sender:p.Bech32Address.fromBech32(e.value.sender).address,contract:p.Bech32Address.fromBech32(e.value.contract).address,msg:h.Buffer.from(e.value.msg,"base64"),sentFunds:e.value.sent_funds})).finish()}]}}),n)}sendExecuteSecretContractMsg(e="executeSecretWasm",r,s,n,i="",o,a,c){var u;return l(this,void 0,void 0,function*(){let t;return yield this.base.cosmos.sendMsgs(e,()=>l(this,void 0,void 0,function*(){t=yield this.encryptSecretContractMsg(r,s);var e={type:this.msgOpts.executeSecretWasm.type,value:{sender:this.base.bech32Address,contract:r,msg:h.Buffer.from(t).toString("base64"),sent_funds:n}};return{aminoMsgs:[e],protoMsgs:[{typeUrl:"/secret.compute.v1beta1.MsgExecuteContract",value:d.MsgExecuteContract.encode(d.MsgExecuteContract.fromPartial({sender:p.Bech32Address.fromBech32(e.value.sender).address,contract:p.Bech32Address.fromBech32(e.value.contract).address,msg:h.Buffer.from(e.value.msg,"base64"),sentFunds:e.value.sent_funds})).finish()}]}}),i,{amount:null!=(u=o.amount)?u:[],gas:o.gas},a,c),t})}encryptSecretContractMsg(r,s){return l(this,void 0,void 0,function*(){var e=yield this.queries.secret.querySecretContractCodeHash.getQueryContract(r).waitResponse();if(!e)throw new Error(`Can't get the code hash of the contract (${r})`);var e=e.data.result,t=yield this.base.getKeplr();if(t)return yield t.getEnigmaUtils(this.chainId).encrypt(e,s);throw new Error("Can't get the Keplr API")})}get queries(){return this.queriesStore.get(this.chainId)}}i.SecretAccountImpl=a},1419:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccountStore=void 0;const i=r(119),o=r(862);class s extends i.HasMapStore{constructor(r,s,n,...e){super(e=>{var t=new o.AccountSetBaseSuper(r,s,e,n(e));return i.mergeStores(t,[this.chainGetter,e],...this.accountSetCreators)}),this.eventListener=r,this.chainGetter=s,this.storeOptsCreator=n,this.accountSetCreators=e}getAccount(e){return this.get(e)}hasAccount(e){return this.has(e)}}t.AccountStore=s},1420:function(e,r,t){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.ObservableQueryMap=r.ObservableQuery=r.ObservableQueryBase=r.DeferInitialQueryController=r.defaultOptions=void 0;const o=t(5),p=i(t(60)),f=t(27);var a=t(1014),i=i(t(1233));r.defaultOptions={cacheMaxAge:0,fetchingInterval:0};class y extends Error{constructor(e){super(e),Object.setPrototypeOf(this,y.prototype)}}class c{constructor(){this.rejectors=[]}get hasCancelable(){return 0<this.rejectors.length}cancel(e){for(;0<this.rejectors.length;){var t=this.rejectors.shift();t&&(t.reject(new y(e)),t.onCancel)&&t.onCancel()}}callOrCanceledWithPromise(e,t){return new Promise((r,s)=>{this.rejectors.push({reject:s,onCancel:t}),e.then(e=>{var t=this.rejectors.findIndex(e=>e.reject===s);0<=t&&this.rejectors.splice(t,1),r(e)},e=>{var t=this.rejectors.findIndex(e=>e.reject===s);0<=t&&this.rejectors.splice(t,1),s(e)})})}callOrCanceled(e,t){return new Promise((r,s)=>{this.rejectors.push({reject:s,onCancel:t}),Promise.resolve().then(()=>{this.rejectors.find(e=>e.reject===s)&&e().then(e=>{var t=this.rejectors.findIndex(e=>e.reject===s);0<=t&&this.rejectors.splice(t,1),r(e)},e=>{var t=this.rejectors.findIndex(e=>e.reject===s);0<=t&&this.rejectors.splice(t,1),s(e)})})})}}class u{constructor(){this._isReady=!1,o.makeObservable(this)}ready(){this._isReady=!0}wait(){return this.isReady?Promise.resolve():new Promise(e=>{const t=o.autorun(()=>{this.isReady&&(e(),t)&&t()})})}get isReady(){return this._isReady}}s([o.observable],u.prototype,"_isReady",void 0),s([o.action],u.prototype,"ready",null),r.DeferInitialQueryController=u;class v{constructor(e,t){this._response=void 0,this._isFetching=!1,this._error=void 0,this._isStarted=!1,this._pendingOnStart=!1,this.observedCount=0,this.intervalId=void 0,this.becomeObserved=()=>{0===this.observedCount&&this.start(),this.observedCount++},this.becomeUnobserved=()=>{this.observedCount--,0===this.observedCount&&this.stop()},this.intervalFetch=()=>{this.isFetching||this.fetch()},this.options=Object.assign(Object.assign({},r.defaultOptions),t),this._instance=e,this.queryCanceler=new c,this.onStartCanceler=new c,this.queryControllerConceler=new c,o.makeObservable(this),o.onBecomeObserved(this,"_response",this.becomeObserved),o.onBecomeObserved(this,"_isFetching",this.becomeObserved),o.onBecomeObserved(this,"_error",this.becomeObserved),o.onBecomeUnobserved(this,"_response",this.becomeUnobserved),o.onBecomeUnobserved(this,"_isFetching",this.becomeUnobserved),o.onBecomeUnobserved(this,"_error",this.becomeUnobserved)}static guessResponseTruncated(e,t){return e&&"string"==typeof e["content-type"]&&e["content-type"].startsWith("application/json")&&t.startsWith("{")}get isObserved(){return 0<this.observedCount}start(){var e;this._isStarted||(this._isStarted=!0,(e=this.onStart())?this.handleAsyncOnStart(e):this.postStart())}*handleAsyncOnStart(e){this._pendingOnStart=!0,this._isFetching=!0;try{yield this.onStartCanceler.callOrCanceledWithPromise(e),this._isStarted&&(this._pendingOnStart=!1,this.postStart())}catch(e){if(!(e instanceof y))throw e}}stop(){this._isStarted&&(this.onStartCanceler.hasCancelable&&this.onStartCanceler.cancel(),this.isFetching&&this.queryCanceler.hasCancelable&&this.cancel(),this._pendingOnStart=!1,this._isFetching=!1,null!=this.intervalId&&clearInterval(this.intervalId),this.intervalId=void 0,this.onStop(),this._isStarted=!1)}get isStarted(){return this._isStarted}postStart(){this.fetch(),0<this.options.fetchingInterval&&(this.intervalId=setInterval(this.intervalFetch,this.options.fetchingInterval))}onStart(){}onStop(){}canFetch(){return!0}get isFetching(){return this._isFetching}get instance(){return this._instance}*fetch(){var s,n,i,o,a;if(this.isStarted&&!this._pendingOnStart){if(v.experimentalDeferInitialQueryController&&!v.experimentalDeferInitialQueryController.isReady){this._isFetching=!0,this.queryControllerConceler.hasCancelable&&this.queryControllerConceler.cancel();try{yield this.queryControllerConceler.callOrCanceled(()=>{var e;return null!=(e=null==(e=v.experimentalDeferInitialQueryController)?void 0:e.wait())?e:Promise.resolve()})}catch(e){if(e instanceof y)return;throw e}if(!this.isStarted)return}if(this.canFetch()){if(this.isFetching&&this.queryCanceler.hasCancelable&&this.cancel("__fetching__proceed__next__"),this._response){if(0<this.options.cacheMaxAge&&this._response.timestamp>Date.now()-this.options.cacheMaxAge)return void(this._isFetching=!1);this._isFetching=!0,this.setResponse(Object.assign(Object.assign({},this._response),{staled:!0}))}else{this._isFetching=!0;var t=this.loadStaledResponse();const d=e=>!(!e||this._response||!(this.options.cacheMaxAge<=0||e.timestamp>Date.now()-this.options.cacheMaxAge)||(this.setResponse(e),0));if(this.options.cacheMaxAge<=0)t.then(e=>{d(e)});else{t=yield*f.toGenerator(t);if(d(t))return void(this._isFetching=!1)}}const h=new AbortController;let e=!1,r=!1;try{let e=!1,{response:t,headers:r}=yield*f.toGenerator(this.queryCanceler.callOrCanceled(()=>(e=!0,this.fetchResponse(h)),()=>{e&&h.abort()}));if(t.data&&"string"==typeof t.data&&(t.data.startsWith("stream was reset:")||g.suspectedResponseDatasWithInvalidValue.includes(t.data)||g.guessResponseTruncated(r,t.data))){if(h.signal.aborted)return;let e=!1;var c=yield*f.toGenerator(this.queryCanceler.callOrCanceled(()=>(e=!0,this.fetchResponse(h)),()=>{e&&h.abort()}));if(t=c.response,r=c.headers,t.data&&"string"==typeof t.data){if(t.data.startsWith("stream was reset:")||g.suspectedResponseDatasWithInvalidValue.includes(t.data))throw new Error(t.data);if(g.guessResponseTruncated(r,t.data))throw new Error("The response data seems to be truncated")}}this.setResponse(t),this.setError(void 0),this.saveResponse(t)}catch(t){if(p.default.isCancel(t))r=!0;else if(t instanceof y)"__fetching__proceed__next__"===t.message&&(e=!0);else if(t.response){let e=t.response.statusText;var u="string"==typeof(null==(s=t.response.headers)?void 0:s["content-type"])?t.response.headers["content-type"]:"",l=(u.startsWith("text/plain")&&"string"==typeof t.response.data&&(e=t.response.data),u.startsWith("application/json")&&null!=(n=t.response.data)&&n.message&&"string"==typeof(null==(i=t.response.data)?void 0:i.message)&&(e=t.response.data.message),{status:t.response.status,statusText:t.response.statusText,message:e,data:t.response.data});this.setError(l)}else t.request?(o={status:0,statusText:"Failed to get response",message:"Failed to get response"},this.setError(o)):(a={status:0,statusText:t.message,message:t.message,data:t},this.setError(a))}finally{r||e||(this._isFetching=!1)}}}}get response(){return this._response}get error(){return this._error}setResponse(e){this._response=e}setError(e){this._error=e}cancel(e){this.queryCanceler.cancel(e)}waitResponse(){if(this.response)return Promise.resolve(this.response);const r=[];let e=!1;return r.push(o.reaction(()=>this.isFetching,()=>{e||(this.isFetching||this.fetch(),e=!0)},{fireImmediately:!0})),new Promise(e=>{var t=o.autorun(()=>{this.isFetching||e(this.response)});r.push(t)}).finally(()=>{for(const e of r)e()})}waitFreshResponse(){const r=[];let e=!1;return r.push(o.reaction(()=>this.isFetching,()=>{e||(this.isFetching||this.fetch(),e=!0)},{fireImmediately:!0})),new Promise(e=>{var t=o.autorun(()=>{this.isFetching||e(this.response)});r.push(t)}).finally(()=>{for(const e of r)e()})}}v.experimentalDeferInitialQueryController=void 0,v.suspectedResponseDatasWithInvalidValue=["The network connection was lost.","The request timed out."],s([o.observable.ref],v.prototype,"_response",void 0),s([o.observable],v.prototype,"_isFetching",void 0),s([o.observable.ref],v.prototype,"_error",void 0),s([o.observable],v.prototype,"_isStarted",void 0),s([o.observable.ref],v.prototype,"_instance",void 0),s([o.action],v.prototype,"start",null),s([o.flow],v.prototype,"handleAsyncOnStart",null),s([o.action],v.prototype,"stop",null),s([o.computed],v.prototype,"instance",null),s([o.flow],v.prototype,"fetch",null),s([o.action],v.prototype,"setResponse",null),s([o.action],v.prototype,"setError",null);class g extends(r.ObservableQueryBase=v){constructor(e,t,r,s={}){super(t,s),this.kvStore=e,this._url="",this.refreshHandler=e=>{(null==e?void 0:e.ifError)&&!this.error||this.fetch()},o.makeObservable(this),this.setUrl(r)}static refreshAllObserved(){g.eventListener.emit("refresh")}static refreshAllObservedIfError(){g.eventListener.emit("refresh",{ifError:!0})}onStart(){super.onStart(),g.eventListener.addListener("refresh",this.refreshHandler)}onStop(){super.onStop(),g.eventListener.addListener("refresh",this.refreshHandler)}get url(){return this._url}setUrl(e){this._url!==e&&(this._url=e,this.fetch())}fetchResponse(t){return n(this,void 0,void 0,function*(){var e=yield this.instance.get(this.url,{signal:t.signal});return{headers:e.headers,response:{data:e.data,status:e.status,staled:!1,timestamp:Date.now()}}})}getCacheKey(){return this.instance.name+"-"+this.instance.defaults.baseURL+this.instance.getUri({url:this.url})}saveResponse(t){return n(this,void 0,void 0,function*(){var e=this.getCacheKey();yield this.kvStore.set(e,t)})}loadStaledResponse(){return n(this,void 0,void 0,function*(){var e=this.getCacheKey(),e=yield this.kvStore.get(e);if(e)return Object.assign(Object.assign({},e),{staled:!0})})}}g.eventListener=new i.default,s([o.observable],g.prototype,"_url",void 0),s([o.action],g.prototype,"setUrl",null),r.ObservableQuery=g;class l extends a.HasMapStore{constructor(e){super(e)}}r.ObservableQueryMap=l},1421:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableJsonRPCQueryMap=t.ObservableJsonRPCQuery=void 0,r(1232));const o=r(5),a=r(50),c=r(4);r=r(1014);class u extends i.ObservableQuery{constructor(e,t,r,s,n,i={}){super(e,t,r,i),this.method=s,this._params=n,o.makeObservable(this)}get params(){return this._params}setParams(e){this._params=e,this.fetch()}fetchResponse(t){return n(this,void 0,void 0,function*(){var e=yield this.instance.post(this.url,{jsonrpc:"2.0",id:"1",method:this.method,params:this.params},{signal:t.signal});if(e.data.error&&e.data.error.message)throw new Error(e.data.error.message);if(e.data.result)return{headers:e.headers,response:{data:e.data.result,status:e.status,staled:!1,timestamp:Date.now()}};throw new Error("Unknown error")})}getCacheKey(){var e=c.Buffer.from(a.Hash.sha256(c.Buffer.from(JSON.stringify(this.params))).slice(0,8)).toString("hex");return`${super.getCacheKey()}-${this.method}-`+e}}s([o.observable.ref],u.prototype,"_params",void 0),s([o.action],u.prototype,"setParams",null),t.ObservableJsonRPCQuery=u;class l extends r.HasMapStore{constructor(e){super(e)}}t.ObservableJsonRPCQueryMap=l},1422:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StoreUtils=void 0;const o=r(26);class s{static getBalancesFromCurrencies(e,t){var r=[];for(const i of t){var s,n=e[i.denom];n&&(s=new o.Dec(i.amount)).truncate().gt(new o.Int(0))&&r.push(new o.CoinPretty(n,s))}return r}static getBalanceFromCurrency(e,t){t=s.getBalancesFromCurrencies({[e.coinMinimalDenom]:e},t);return 1===t.length?t[0]:new o.CoinPretty(e,new o.Int(0)).ready(!1)}}t.StoreUtils=s},1423:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1424:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeStores=void 0;t.mergeStores=(t,r,...s)=>{for(let e=0;e<s.length;e++){var n=(0,s[e])(t,...r);for(const i of Object.keys(n)){if(t[i])throw new Error(i+" is already merged");t[i]=n[i]}}return t}},1425:function(e,i,t){"use strict";var l=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(i,"__esModule",{value:!0}),i.CosmwasmAccountImpl=i.defaultCosmwasmMsgOpts=i.CosmwasmAccount=void 0;const u=t(27),h=t(26),d=t(624),p=t(4),o=r(t(167)),f=t(628),a=t(16);i.CosmwasmAccount={use(n){return(e,t,r)=>{var s=n.msgOptsCreator?n.msgOptsCreator(r):void 0;return{cosmwasm:new c(e,t,r,n.queriesStore,o.default(i.defaultCosmwasmMsgOpts,s||{}))}}}},i.defaultCosmwasmMsgOpts={send:{cw20:{gas:15e4}},executeWasm:{type:"wasm/MsgExecuteContract"}};class c{constructor(e,t,r,s,n){this.base=e,this.chainGetter=t,this.chainId=r,this.queriesStore=s,this._msgOpts=n,this.base.registerMakeSendTokenFn(this.processMakeSendTokenTx.bind(this)),this.base.registerSendTokenFn(this.processSendToken.bind(this))}get msgOpts(){return this._msgOpts}processMakeSendTokenTx(t,r,e){if("cw20"===new u.DenomHelper(r.coinMinimalDenom).type){var s=(()=>{let e=new h.Dec(t);return(e=e.mul(h.DecUtils.getPrecisionDec(r.coinDecimals))).truncate().toString()})();if("type"in r&&"cw20"===r.type)return a.Bech32Address.validate(e,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixAccAddr),this.makeExecuteContractTx("send",r.contractAddress,{transfer:{recipient:e,amount:s}},[],e=>{null!=e.code&&0!==e.code||(e=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(e=>e.currency.coinMinimalDenom===r.coinMinimalDenom))&&e.fetch()});throw new Error("Currency is not cw20")}}processSendToken(t,r,s,n,i,o,a){var c;return l(this,void 0,void 0,function*(){var e=new u.DenomHelper(r.coinMinimalDenom);if("cw20"!==e.type)return!1;e=(()=>{let e=new h.Dec(t);return(e=e.mul(h.DecUtils.getPrecisionDec(r.coinDecimals))).truncate().toString()})();if("type"in r&&"cw20"===r.type)return yield this.sendExecuteContractMsg("send",r.contractAddress,{transfer:{recipient:s,amount:e}},[],n,{amount:null!=(c=i.amount)?c:[],gas:null!=(c=i.gas)?c:this.msgOpts.send.cw20.gas.toString()},o,f.txEventsWithPreOnFulfill(a,e=>{null!=e.code&&0!==e.code||(e=this.queries.queryBalances.getQueryBech32Address(this.base.bech32Address).balances.find(e=>e.currency.coinMinimalDenom===r.coinMinimalDenom))&&e.fetch()})),!0;throw new Error("Currency is not cw20")})}makeExecuteContractTx(e="executeWasm",t,r,s,n){a.Bech32Address.validate(t,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixAccAddr);t={type:this.msgOpts.executeWasm.type,value:{sender:this.base.bech32Address,contract:t,msg:r,funds:s}};return this.base.cosmos.makeTx(e,{aminoMsgs:[t],protoMsgs:[{typeUrl:"/cosmwasm.wasm.v1.MsgExecuteContract",value:d.MsgExecuteContract.encode({sender:t.value.sender,contract:t.value.contract,msg:p.Buffer.from(JSON.stringify(t.value.msg)),funds:t.value.funds}).finish()}]},n)}sendExecuteContractMsg(t="executeWasm",r,s,n,i="",o,a,c){var u;return l(this,void 0,void 0,function*(){var e={type:this.msgOpts.executeWasm.type,value:{sender:this.base.bech32Address,contract:r,msg:s,funds:n}};yield this.base.cosmos.sendMsgs(t,{aminoMsgs:[e],protoMsgs:[{typeUrl:"/cosmwasm.wasm.v1.MsgExecuteContract",value:d.MsgExecuteContract.encode({sender:e.value.sender,contract:e.value.contract,msg:p.Buffer.from(JSON.stringify(e.value.msg)),funds:e.value.funds}).finish()}]},i,{amount:null!=(u=o.amount)?u:[],gas:o.gas},a,c)})}get queries(){return this.queriesStore.get(this.chainId)}}i.CosmwasmAccountImpl=c},1426:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=(Object.defineProperty(t,"__esModule",{value:!0}),t.CoinGeckoPriceStore=void 0,r(119));const a=i(r(60)),c=r(27),u=r(26),l=i(r(167)),h=r(5);class d{constructor(e){this.duration=e,this.fns=[],this.callback=()=>{null!=this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0),0<this.fns.length&&((0,this.fns[this.fns.length-1])(),this.fns=[])}}call(e){this.duration<=0?e():(this.fns.push(e),null!=this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(this.callback,this.duration))}}class p{constructor(e,t,r=0){if(this.array=[],this.map={},this.restored={},this.isRestored=!1,this.storeKey="",!t)throw new Error("Empty store key");this.kvStore=e,this.storeKey=t,this.throttler=new d(r)}has(e){return!0===this.map[e]}add(...e){let t=!1,r=[];for(const n of e)this.isRestored&&this.restored[n]&&(t=!0,delete this.restored[n]),this.has(n)||r.push(n);if(0===r.length)return this.isRestored&&t&&this.throttler.call(()=>this.save()),!1;for(const i of r=[...new Set(r)])this.map[i]=!0;let s=this.array.slice().concat(r);return s=s.sort((e,t)=>e<t?-1:1),this.array=s,this.isRestored&&this.throttler.call(()=>this.save()),!0}get values(){return this.array.slice()}save(){return n(this,void 0,void 0,function*(){yield this.kvStore.set(this.storeKey,this.array.filter(e=>!this.restored[e]))})}restore(){return n(this,void 0,void 0,function*(){var e=yield this.kvStore.get(this.storeKey);if(e){for(const t of e)this.restored[t]=!0;for(const r of this.array)this.restored[r]&&delete this.restored[r];this.add(...e)}this.isRestored=!0})}}class f extends o.ObservableQuery{constructor(e,t,r,s={}){super(e,a.default.create({baseURL:s.baseURL||"https://api.coingecko.com/api/v3"}),"/simple/price"),this.isInitialized=!1;s=null!=(s=s.throttleDuration)?s:250;this._coinIds=new p(e,"__coin_ids",s),this._vsCurrencies=new p(e,"__vs_currencies",s),this._defaultVsCurrency=r,this._supportedVsCurrencies=t,this._throttler=new d(s),h.makeObservable(this),this.restoreDefaultVsCurrency()}onStart(){return super.onStart(),this.init()}init(){return n(this,void 0,void 0,function*(){this.isInitialized||(yield Promise.all([this._coinIds.restore(),this._vsCurrencies.restore()]),this._coinIds.save(),this._vsCurrencies.save(),this.updateURL([],[],!0),this.isInitialized=!0)})}get defaultVsCurrency(){return this._defaultVsCurrency}setDefaultVsCurrency(e){this._defaultVsCurrency=e,this.saveDefaultVsCurrency()}*restoreDefaultVsCurrency(){var e=yield*c.toGenerator(this.kvStore.get("__default_vs_currency"));e&&(this._defaultVsCurrency=e)}saveDefaultVsCurrency(){return n(this,void 0,void 0,function*(){yield this.kvStore.set("__default_vs_currency",this.defaultVsCurrency)})}get supportedVsCurrencies(){return this._supportedVsCurrencies}getFiatCurrency(e){return this._supportedVsCurrencies[e]}canFetch(){return!1}fetchResponse(r){const s=Object.create(null,{fetchResponse:{get:()=>super.fetchResponse}});return n(this,void 0,void 0,function*(){var{response:e,headers:t}=yield s.fetchResponse.call(this,r);return{headers:t,response:Object.assign(Object.assign({},e),{data:l.default(this.response?this.response.data:{},e.data)})}})}updateURL(e,t,r=!1){e=this._coinIds.add(...e),t=this._vsCurrencies.add(...t);if(e||t||r){const s=`/simple/price?ids=${this._coinIds.values.join(",")}&vs_currencies=`+this._vsCurrencies.values.join(",");this.isInitialized?this._throttler.call(()=>this.setUrl(s)):this.setUrl(s)}}getCacheKey(){return this.instance.name+"-"+this.instance.defaults.baseURL+this.instance.getUri({url:"/simple/price"})}getPrice(e,t){if(t=t||this.defaultVsCurrency,this.supportedVsCurrencies[t]&&(this.updateURL([e],[t]),this.response)){e=this.response.data[e];if(e)return e[t]}}calculatePrice(e,t){if(e.currency.coinGeckoId){t=t||this.defaultVsCurrency;var r=this.supportedVsCurrencies[t];if(r)return void 0===(t=this.getPrice(e.currency.coinGeckoId,t))?new u.PricePretty(r,new u.Int(0)).ready(!1):(e=e.toDec(),t=new u.Dec(t.toString()),new u.PricePretty(r,e.mul(t)))}}}s([h.observable],f.prototype,"_defaultVsCurrency",void 0),s([h.action],f.prototype,"setDefaultVsCurrency",null),s([h.flow],f.prototype,"restoreDefaultVsCurrency",null),t.CoinGeckoPriceStore=f},1427:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1428),t),n(r(59),t),n(r(509),t),n(r(1429),t),n(r(1468),t),n(r(1472),t),n(r(1476),t)},1428:function(e,s,t){"use strict";var r=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(s,"__esModule",{value:!0}),s.QueriesStore=s.createQueriesSetBase=void 0;const n=t(5),i=t(509),o=t(119);s.createQueriesSetBase=(e,t,r)=>({queryBalances:new i.ObservableQueryBalances(e,t,r)});class a{constructor(e,t,...r){this.kvStore=e,this.chainGetter=t,this.queriesMap=new Map,this.queriesCreators=r,n.makeObservable(this)}get(t){if(!this.queriesMap.has(t)){const r=s.createQueriesSetBase(this.kvStore,t,this.chainGetter);n.runInAction(()=>{var e=o.mergeStores(r,[this.kvStore,t,this.chainGetter],...this.queriesCreators);this.queriesMap.set(t,e)})}return this.queriesMap.get(t)}}r([n.observable.shallow],a.prototype,"queriesMap",void 0),s.QueriesStore=a},1429:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&s(t,e,r);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Balance=t.IBC=t.Account=t.Supply=t.Staking=t.Governance=void 0,i(r(1234),t),i(r(1238),t),i(r(1239),t),i(r(1240),t),i(r(1241),t),i(r(1242),t),t.Governance=o(r(1237)),t.Staking=o(r(863)),t.Supply=o(r(1451)),t.Account=o(r(1452)),t.IBC=o(r(1453)),t.Balance=o(r(1454)),i(r(1455),t)},1430:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryGovernance=void 0,r(59));const i=r(5),o=r(1235),a=r(26),c=r(201),u=r(1236);class l extends n.ObservableChainQuery{constructor(e,t,r,s){super(e,t,r,"/cosmos/gov/v1beta1/proposals?pagination.limit=3000"),this._queryPool=s,this.paramDeposit=void 0,this.paramVoting=void 0,this.paramTally=void 0,this.getProposal=c.computedFn(t=>this.proposals.find(e=>e.id===t)),i.makeObservable(this)}getQueryPool(){return this._queryPool}getQueryParamDeposit(){return this.paramDeposit||i.runInAction(()=>{this.paramDeposit=new o.ObservableQueryGovParamDeposit(this.kvStore,this.chainId,this.chainGetter)}),this.paramDeposit}getQueryParamVoting(){return this.paramVoting||i.runInAction(()=>{this.paramVoting=new o.ObservableQueryGovParamVoting(this.kvStore,this.chainId,this.chainGetter)}),this.paramVoting}getQueryParamTally(){return this.paramTally||i.runInAction(()=>{this.paramTally=new o.ObservableQueryGovParamTally(this.kvStore,this.chainId,this.chainGetter)}),this.paramTally}get quorum(){var e=this.getQueryParamTally();if(!e.response)return new a.IntPretty(new a.Int(0)).ready(!1);let t=new a.Dec(e.response.data.tally_params.quorum);return t=t.mulTruncate(a.DecUtils.getPrecisionDec(2)),new a.IntPretty(t)}get proposals(){if(!this.response)return[];var e=[];for(const t of this.response.data.proposals)e.push(new u.ObservableQueryProposal(this.kvStore,this.chainId,this.chainGetter,t,this));return e.reverse()}}s([i.observable.ref],l.prototype,"paramDeposit",void 0),s([i.observable.ref],l.prototype,"paramVoting",void 0),s([i.observable.ref],l.prototype,"paramTally",void 0),s([i.computed],l.prototype,"quorum",null),s([i.computed],l.prototype,"proposals",null),t.ObservableQueryGovernance=l},1431:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryProposalVote=t.ObservableQueryProposalVoteInner=void 0;r=r(59);class s extends r.ObservableChainQuery{constructor(e,t,r,s,n){super(e,t,r,`/cosmos/gov/v1beta1/proposals/${s}/votes/`+n),this.proposalId=s,this.bech32Address=n}get vote(){if(!this.response)return"Unspecified";switch(this.response.data.vote.option){case"VOTE_OPTION_YES":return"Yes";case"VOTE_OPTION_ABSTAIN":return"Abstain";case"VOTE_OPTION_NO":return"No";case"VOTE_OPTION_NO_WITH_VETO":return"NoWithVeto";default:return"Unspecified"}}canFetch(){return 0<this.bech32Address.length}}t.ObservableQueryProposalVoteInner=s;class n extends r.ObservableChainQueryMap{constructor(e,t,r){super(e,t,r,e=>{var{proposalId:e,voter:t}=JSON.parse(e);return new s(this.kvStore,this.chainId,this.chainGetter,e,t)}),this.kvStore=e,this.chainId=t,this.chainGetter=r}getVote(e,t){e=JSON.stringify({proposalId:e,voter:t});return this.get(e)}}t.ObservableQueryProposalVote=n},1432:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryDelegations=t.ObservableQueryDelegationsInner=void 0,r(59));const o=r(26),a=r(5),c=r(201),u=r(236);class l extends i.ObservableChainQuery{constructor(e,t,r,s,n){super(e,t,r,`/cosmos/staking/v1beta1/delegations/${s}?pagination.limit=1000`),this.duplicatedFetchCheck=!0,this.getDelegationTo=c.computedFn(e=>{var t=this.delegations,r=this.chainGetter.getChain(this.chainId).stakeCurrency;if(!this.response)return new o.CoinPretty(r,new o.Int(0)).ready(!1);for(const s of t)if(s.delegation.validatorAddress===e)return new o.CoinPretty(r,new o.Int(s.balance.amount));return new o.CoinPretty(r,new o.Int(0))}),this.QueryClient=new u.QueryClient,a.makeObservable(this),this.bech32Address=s,this.misesStore=n}canFetch(){return 0<this.bech32Address.length}get total(){var e=this.chainGetter.getChain(this.chainId).stakeCurrency;if(!this.response)return new o.CoinPretty(e,new o.Int(0)).ready(!1);let t=new o.Int(0);for(const r of this.delegations)t=t.add(new o.Int(r.balance.amount));return new o.CoinPretty(e,t)}get delegationBalances(){if(!this.response)return[];var e=this.chainGetter.getChain(this.chainId).stakeCurrency,t=[];if(this.delegations)for(const r of this.delegations)t.push({validatorAddress:r.delegation.validatorAddress,balance:new o.CoinPretty(e,new o.Int(r.balance.amount))});return t}get delegations(){var e;return this.response&&(null==(e=null==(e=this.response)?void 0:e.data)?void 0:e.delegationResponses)||[]}*fetch(){var e;this.bech32Address&&null!=(e=this.QueryClient)&&e.fetchQuery("delegations",()=>n(this,void 0,void 0,function*(){var e=yield this.misesStore.delegations(this.bech32Address);this.setResponse({data:e,status:200,staled:!0,timestamp:(new Date).getTime()})}),this.fetchConfig)}}s([a.computed],l.prototype,"total",null),s([a.computed],l.prototype,"delegationBalances",null),s([a.computed],l.prototype,"delegations",null),s([a.override],l.prototype,"fetch",null),t.ObservableQueryDelegationsInner=l;class h extends i.ObservableChainQueryMap{constructor(e,t,r,s){super(e,t,r,e=>new l(this.kvStore,this.chainId,this.chainGetter,e,this.misesStore)),this.kvStore=e,this.chainId=t,this.chainGetter=r,this.misesStore=s}getQueryBech32Address(e){return this.get(e)}}t.ObservableQueryDelegations=h},1433:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryRewards=t.ObservableQueryRewardsInner=void 0,r(59));const o=r(5),a=r(26),c=r(119),u=r(201),l=r(236);class h extends i.ObservableChainQuery{constructor(e,t,r,s,n){super(e,t,r,`/cosmos/distribution/v1beta1/delegators/${s}/rewards`),this.duplicatedFetchCheck=!0,this.getRewardsOf=u.computedFn(t=>{var e=this.chainGetter.getChain(this.chainId).currencies.reduce((e,t)=>("type"in t||(e[t.coinMinimalDenom]=t),e),{}),r=null==(r=null==(r=this.response)?void 0:r.data.rewards)?void 0:r.find(e=>e.validatorAddress===t);return c.StoreUtils.getBalancesFromCurrencies(e,null!=(e=null==r?void 0:r.reward)?e:[])}),this.getStakableRewardOf=u.computedFn(t=>{var e=this.chainGetter.getChain(this.chainId),r=null==(r=null==(r=this.response)?void 0:r.data.rewards)?void 0:r.find(e=>e.validatorAddress===t);return c.StoreUtils.getBalanceFromCurrency(e.stakeCurrency,null!=(e=null==r?void 0:r.reward)?e:[])}),this.getUnstakableRewardsOf=u.computedFn(t=>{const r=this.chainGetter.getChain(this.chainId);var e=r.currencies.reduce((e,t)=>("type"in t||t.coinMinimalDenom===r.stakeCurrency.coinMinimalDenom||(e[t.coinMinimalDenom]=t),e),{}),s=null==(s=null==(s=this.response)?void 0:s.data.rewards)?void 0:s.find(e=>e.validatorAddress===t);return c.StoreUtils.getBalancesFromCurrencies(e,null!=(e=null==s?void 0:s.reward)?e:[])}),this.getDescendingPendingRewardValidatorAddresses=u.computedFn(e=>{if(!this.response)return[];const r=this.chainGetter.getChain(this.chainId);var t=null!=(t=null==(t=this.response.data.rewards)?void 0:t.slice())?t:[];return t.sort((e,t)=>{e=c.StoreUtils.getBalanceFromCurrency(r.stakeCurrency,null!=(e=e.reward)?e:[]),t=c.StoreUtils.getBalanceFromCurrency(r.stakeCurrency,null!=(t=t.reward)?t:[]);return e.toDec().gt(t.toDec())?-1:1}),t.filter(e=>{if(e.reward)for(const t of e.reward)if(new a.Dec(t.amount).truncate().gt(new a.Int(0)))return!0;return!1}).slice(0,e).map(e=>e.validatorAddress)}),this.QueryClient=new l.QueryClient,o.makeObservable(this),this.bech32Address=s,this.misesStore=n}canFetch(){return 0<this.bech32Address.length}get rewards(){var e=this.chainGetter.getChain(this.chainId).currencies.reduce((e,t)=>("type"in t||(e[t.coinMinimalDenom]=t),e),{});return c.StoreUtils.getBalancesFromCurrencies(e,null!=(e=null==(e=null==(e=this.response)?void 0:e.data)?void 0:e.total)?e:[])}get stakableReward(){var e=this.chainGetter.getChain(this.chainId);return c.StoreUtils.getBalanceFromCurrency(e.stakeCurrency,null!=(e=null==(e=null==(e=this.response)?void 0:e.data)?void 0:e.total)?e:[])}get unstakableRewards(){const r=this.chainGetter.getChain(this.chainId);var e=r.currencies.reduce((e,t)=>("type"in t||t.coinMinimalDenom===r.stakeCurrency.coinMinimalDenom||(e[t.coinMinimalDenom]=t),e),{});return c.StoreUtils.getBalancesFromCurrencies(e,null!=(e=null==(e=this.response)?void 0:e.data.total)?e:[])}get pendingRewardValidatorAddresses(){var e;if(!this.response)return[];var t=[];for(const r of null!=(e=this.response.data.rewards)?e:[])if(r.reward)for(const s of r.reward)if(new a.Dec(s.amount).truncate().gt(new a.Int(0))){t.push(r.validatorAddress);break}return t}*fetch(){var e;this.bech32Address&&null!=(e=this.QueryClient)&&e.fetchQuery("rewards",()=>n(this,void 0,void 0,function*(){var e=yield this.misesStore.rewards(this.bech32Address);e&&e.total[0]&&(e.total[0].amount=Number(e.total[0].amount)/Math.pow(10,18)),this.setResponse({data:e,status:200,staled:!0,timestamp:(new Date).getTime()})}),this.fetchConfig)}}s([o.computed],h.prototype,"rewards",null),s([o.computed],h.prototype,"stakableReward",null),s([o.computed],h.prototype,"unstakableRewards",null),s([o.computed],h.prototype,"pendingRewardValidatorAddresses",null),s([o.override],h.prototype,"fetch",null),t.ObservableQueryRewardsInner=h;class d extends i.ObservableChainQueryMap{constructor(e,t,r,s){super(e,t,r,e=>new h(this.kvStore,this.chainId,this.chainGetter,e,s)),this.kvStore=e,this.chainId=t,this.chainGetter=r,this.misesStore=s}getQueryBech32Address(e){return this.get(e)}}t.ObservableQueryRewards=d},1434:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryUnbondingDelegations=t.ObservableQueryUnbondingDelegationsInner=void 0,r(59));const o=r(26),a=r(5),c=r(236);class u extends i.ObservableChainQuery{constructor(e,t,r,s,n){super(e,t,r,`/cosmos/staking/v1beta1/delegators/${s}/unbonding_delegations?pagination.limit=1000`),this.duplicatedFetchCheck=!0,this.QueryClient=new c.QueryClient,a.makeObservable(this),this.bech32Address=s,this.misesStore=n}canFetch(){var e;return 0<(null==(e=this.bech32Address)?void 0:e.length)}get total(){var e=this.chainGetter.getChain(this.chainId).stakeCurrency;if(!this.response)return new o.CoinPretty(e,new o.Int(0)).ready(!1);let t=new o.Int(0);for(const r of this.unbondings)for(const s of r.entries)t=t.add(new o.Int(s.balance));return new o.CoinPretty(e,t)}get unbondingBalances(){var e=this.unbondings,t=this.chainGetter.getChain(this.chainId).stakeCurrency,r=[];for(const n of e){var s=[];for(const i of n.entries)s.push({creationHeight:new o.Int(i.creationHeight),completionTime:i.completionTime,balance:new o.CoinPretty(t,new o.Int(i.balance))});r.push({validatorAddress:n.validatorAddress,entries:s})}return r}get unbondings(){var e;return this.response&&(null==(e=this.response.data)?void 0:e.unbondingResponses)||[]}*fetch(){var e;this.bech32Address&&null!=(e=this.QueryClient)&&e.fetchQuery("unbondingDelegations",()=>n(this,void 0,void 0,function*(){var e=yield this.misesStore.unbondingDelegations(this.bech32Address);this.setResponse({data:e,status:200,staled:!0,timestamp:(new Date).getTime()})}),this.fetchConfig)}}s([a.computed],u.prototype,"total",null),s([a.computed],u.prototype,"unbondingBalances",null),s([a.computed],u.prototype,"unbondings",null),s([a.override],u.prototype,"fetch",null),t.ObservableQueryUnbondingDelegationsInner=u;class l extends i.ObservableChainQueryMap{constructor(e,t,r,s){super(e,t,r,e=>new u(this.kvStore,this.chainId,this.chainGetter,e,s)),this.kvStore=e,this.chainId=t,this.chainGetter=r,this.misesStore=s}getQueryBech32Address(e){return this.get(e)}}t.ObservableQueryUnbondingDelegations=l},1435:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryValidators=t.ObservableQueryValidatorsInner=t.ObservableQueryValidatorThumbnail=void 0,r(59));const a=r(863),c=r(5);var u=r(119);const l=i(r(60));i=i(r(1436));const h=r(26),d=r(201);class p extends u.ObservableQuery{constructor(e,t){super(e,l.default.create({baseURL:"https://keybase.io/"}),"_/api/1.0/user/lookup.json?fields=pictures&key_suffix="+t.description.identity),c.makeObservable(this),this.validator=t}canFetch(){return""!==this.validator.description.identity}fetchResponse(e){const t=Object.create(null,{fetchResponse:{get:()=>super.fetchResponse}});return n(this,void 0,void 0,function*(){return yield p.fetchingThumbnailQueue.add(()=>t.fetchResponse.call(this,e))})}get thumbnail(){var e;return 0===(null==(e=this.response)?void 0:e.data.status.code)&&this.response.data.them&&0<this.response.data.them.length&&null!=(e=null==(e=null==(e=this.response.data.them[0].pictures)?void 0:e.primary)?void 0:e.url)?e:""}}p.fetchingThumbnailQueue=new i.default({concurrency:3}),s([c.computed],p.prototype,"thumbnail",null),t.ObservableQueryValidatorThumbnail=p;class f extends o.ObservableChainQuery{constructor(e,t,r,s){super(e,t,r,"/cosmos/staking/v1beta1/validators?pagination.limit=1000&status="+(()=>{switch(s){case a.BondStatus.Bonded:return"BOND_STATUS_BONDED";case a.BondStatus.Unbonded:return"BOND_STATUS_UNBONDED";case a.BondStatus.Unbonding:return"BOND_STATUS_UNBONDING";default:return"BOND_STATUS_UNSPECIFIED"}})()),this.status=s,this.thumbnailMap=new Map,this.getValidator=d.computedFn(t=>{return this.validators.find(e=>e.operator_address===t)}),this.getValidatorThumbnail=d.computedFn(t=>{const e=this.validators.find(e=>e.operator_address===t);if(!e)return"";if(!e.description.identity)return"";const r=e.description.identity;return this.thumbnailMap.has(r)||c.runInAction(()=>{this.thumbnailMap.set(r,new p(this.kvStore,e))}),this.thumbnailMap.get(r).thumbnail}),this.getValidatorShare=d.computedFn(t=>{var e,r=this.validators.find(e=>e.operator_address===t);if(r)return e=this.chainGetter.getChain(this.chainId).stakeCurrency,r=new h.Dec(r.tokens).truncate(),new h.CoinPretty(e,r)}),c.makeObservable(this)}get validators(){return this.response?this.response.data.validators:[]}get validatorsSortedByVotingPower(){return this.validators.sort((e,t)=>new h.Dec(e.tokens).gt(new h.Dec(t.tokens))?-1:1)}}s([c.observable.shallow],f.prototype,"thumbnailMap",void 0),s([c.computed],f.prototype,"validators",null),s([c.computed],f.prototype,"validatorsSortedByVotingPower",null),t.ObservableQueryValidatorsInner=f;class y extends o.ObservableChainQueryMap{constructor(e,t,r){super(e,t,r,e=>new f(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=r}getQueryStatus(e=a.BondStatus.Bonded){return this.get(e)}}t.ObservableQueryValidators=y},1441:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryStakingPool=void 0,r(59));const i=r(5),o=r(26);class a extends n.ObservableChainQuery{constructor(e,t,r){super(e,t,r,"/cosmos/staking/v1beta1/pool"),i.makeObservable(this)}get notBondedTokens(){var e=this.chainGetter.getChain(this.chainId);return this.response?new o.CoinPretty(e.stakeCurrency,this.response.data.pool.not_bonded_tokens):new o.CoinPretty(e.stakeCurrency,0)}get bondedTokens(){var e=this.chainGetter.getChain(this.chainId);return this.response?new o.CoinPretty(e.stakeCurrency,this.response.data.pool.bonded_tokens):new o.CoinPretty(e.stakeCurrency,0)}}s([i.computed],a.prototype,"notBondedTokens",null),s([i.computed],a.prototype,"bondedTokens",null),t.ObservableQueryStakingPool=a},1442:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryStakingParams=void 0,r(59));const i=r(5);class o extends n.ObservableChainQuery{constructor(e,t,r){super(e,t,r,"/cosmos/staking/v1beta1/params"),i.makeObservable(this)}get unbondingTimeSec(){return this.response?parseInt(this.response.data.params.unbonding_time.replace("s","")):0}get maxValidators(){var e;return null!=(e=null==(e=this.response)?void 0:e.data.params.max_validators)?e:0}get maxEntries(){var e;return null!=(e=null==(e=this.response)?void 0:e.data.params.max_entries)?e:0}get historicalEntries(){var e;return null!=(e=null==(e=this.response)?void 0:e.data.params.historical_entries)?e:0}get bondDenom(){var e;return null!=(e=null==(e=this.response)?void 0:e.data.params.bond_denom)?e:""}}s([i.computed],o.prototype,"unbondingTimeSec",null),t.ObservableQueryStakingParams=o},1443:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryInflation=void 0;const d=r(5),g=r(26);class n{constructor(e,t,r,s,n,i,o,a,c,u,l,h){this.chainId=e,this.chainGetter=t,this._queryMint=r,this._queryPool=s,this._querySupplyTotal=n,this._queryIrisMint=i,this._querySifchainAPY=o,this._queryOsmosisEpochs=a,this._queryOsmosisEpochProvisions=c,this._queryOsmosisMintParams=u,this._queryJunoAnnualProvisions=l,this._queryDistributionParams=h,d.makeObservable(this)}get error(){var e;return null!=(e=null!=(e=this._queryMint.error)?e:this._queryPool.error)?e:this._querySupplyTotal.getQueryStakeDenom().error}get isFetching(){return this._queryMint.isFetching||this._queryPool.isFetching||this._querySupplyTotal.getQueryStakeDenom().isFetching}get inflation(){var t,r,s,n,i,o,a,c,u,l;try{let e;const v=this.chainGetter.getChain(this.chainId);if(v.chainId.startsWith("irishub"))e=new g.Dec(null!=(r=null==(t=this._queryIrisMint.response)?void 0:t.data.result.inflation)?r:"0").mul(g.DecUtils.getPrecisionDec(2));else{if(v.chainId.startsWith("sifchain"))return new g.IntPretty(new g.Dec(this._querySifchainAPY.liquidityAPY.toString()));if(v.chainId.startsWith("osmosis")){var h,d,p,f,y=this._queryOsmosisMintParams;y.epochIdentifier&&(h=this._queryOsmosisEpochs.getEpoch(y.epochIdentifier).duration)&&(d=this._queryOsmosisEpochProvisions.epochProvisions)&&this._querySupplyTotal.getQueryStakeDenom().response&&(p=new g.Dec(d.toDec().mul(y.distributionProportions.staking).truncate().toString()).mul(new g.Dec((31536e3/h).toString())),f=g.DecUtils.getPrecisionDec(8),e=p.quo(f).mul(g.DecUtils.getPrecisionDec(2)))}else if(v.chainId.startsWith("juno")){if(this._queryJunoAnnualProvisions.annualProvisionsRaw&&this._queryPool.response)return i=new g.Dec(this._queryPool.response.data.pool.bonded_tokens),o=this._queryJunoAnnualProvisions.annualProvisionsRaw.quo(i).mul(new g.Dec(1).sub(this._queryDistributionParams.communityTax.toDec())).mul(g.DecUtils.getTenExponentN(2)),new g.IntPretty(o)}else e=new g.Dec(null!=(n=null==(s=this._queryMint.response)?void 0:s.data.inflation)?n:"0").mul(g.DecUtils.getPrecisionDec(2))}return!e||e.equals(new g.Dec(0))?new g.IntPretty(new g.Int(0)).ready(!1):(this._queryPool.response&&(a=new g.Dec(this._queryPool.response.data.pool.bonded_tokens),c=(()=>{if(v.chainId.startsWith("osmosis"))return g.DecUtils.getPrecisionDec(14).toString();if(v.chainId.startsWith("umee")){const e=this._querySupplyTotal.getQueryDenomByQueryString(v.stakeCurrency.coinMinimalDenom).response;return e?e.data.amount.amount:"0"}const e=this._querySupplyTotal.getQueryStakeDenom().response;return e?e.data.amount.amount:"0"})(),(u=new g.Dec(c)).gt(new g.Dec(0)))&&(l=a.quo(u),e=e.mul(new g.Dec(1).sub(this._queryDistributionParams.communityTax.toDec())).quo(l)),new g.IntPretty(e))}catch(e){return new g.IntPretty(new g.Int(0)).ready(!1)}}}s([d.computed],n.prototype,"inflation",null),t.ObservableQueryInflation=n},1444:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryMintingInfation=void 0;class s extends r(59).ObservableChainQuery{constructor(e,t,r){super(e,t,r,"/cosmos/mint/v1beta1/inflation")}canFetch(){return!1}}t.ObservableQueryMintingInfation=s},1445:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQuerySupplyTotal=t.ObservableChainQuerySupplyTotal=void 0;r=r(59);class s extends r.ObservableChainQuery{constructor(e,t,r,s){super(e,t,r,"/cosmos/bank/v1beta1/supply/"+s)}}t.ObservableChainQuerySupplyTotal=s;class n extends r.ObservableChainQueryMap{constructor(e,t,r){super(e,t,r,e=>new s(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=r}getQueryDenom(e){return this.get(e)}getQueryDenomByQueryString(e){return this.get("by_denom?denom="+e)}getQueryStakeDenom(){var e=this.chainGetter.getChain(this.chainId);return this.get(e.stakeCurrency.coinMinimalDenom)}}t.ObservableQuerySupplyTotal=n},1446:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryIBCChannel=t.ObservableChainQueryIBCChannel=void 0;var s=r(59);const n=r(5);class i extends s.ObservableChainQuery{constructor(e,t,r,s,n){super(e,t,r,`/ibc/core/channel/v1beta1/channels/${n}/ports/`+s),this.portId=s,this.channelId=n}onStart(){return super.onStart(),new Promise(t=>{this.disposer=n.autorun(()=>{var e=this.chainGetter.getChain(this.chainId);e.features&&e.features.includes("ibc-go")&&this.setUrl(`/ibc/core/channel/v1/channels/${this.channelId}/ports/`+this.portId),t()})})}onStop(){this.disposer&&(this.disposer(),this.disposer=void 0),super.onStop()}}t.ObservableChainQueryIBCChannel=i;class o extends s.ObservableChainQueryMap{constructor(e,t,r){super(e,t,r,e=>{e=JSON.parse(e);return new i(this.kvStore,this.chainId,this.chainGetter,e.portId,e.channelId)}),this.kvStore=e,this.chainId=t,this.chainGetter=r}getTransferChannel(e){return this.getChannel("transfer",e)}getChannel(e,t){e=JSON.stringify({portId:e,channelId:t});return this.get(e)}}t.ObservableQueryIBCChannel=o},1447:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryIBCClientState=t.ObservableChainQueryClientState=void 0,r(59));const i=r(5);class o extends n.ObservableChainQuery{constructor(e,t,r,s,n){super(e,t,r,`/ibc/core/channel/v1beta1/channels/${n}/ports/${s}/client_state`),this.portId=s,this.channelId=n}onStart(){return super.onStart(),new Promise(t=>{this.disposer=i.autorun(()=>{var e=this.chainGetter.getChain(this.chainId);e.features&&e.features.includes("ibc-go")&&this.setUrl(`/ibc/core/channel/v1/channels/${this.channelId}/ports/${this.portId}/client_state`),t()})})}onStop(){this.disposer&&(this.disposer(),this.disposer=void 0),super.onStop()}get clientChainId(){var e;return!this.response||null==(e=null==(e=this.response.data.identified_client_state)?void 0:e.client_state)?void 0:e.chain_id}}s([i.computed],o.prototype,"clientChainId",null),t.ObservableChainQueryClientState=o;class a extends n.ObservableChainQueryMap{constructor(e,t,r){super(e,t,r,e=>{e=JSON.parse(e);return new o(this.kvStore,this.chainId,this.chainGetter,e.portId,e.channelId)}),this.kvStore=e,this.chainId=t,this.chainGetter=r}getClientStateOnTransferPort(e){return this.getClientState("transfer",e)}getClientState(e,t){e=JSON.stringify({portId:e,channelId:t});return this.get(e)}}t.ObservableQueryIBCClientState=a},1448:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryDenomTrace=t.ObservableChainQueryDenomTrace=void 0,r(59));const i=r(5);class o extends n.ObservableChainQuery{constructor(e,t,r,s){super(e,t,r,"/ibc/applications/transfer/v1beta1/denom_traces/"+s),this.hash=s}onStart(){return super.onStart(),new Promise(t=>{this.disposer=i.autorun(()=>{var e=this.chainGetter.getChain(this.chainId);e.features&&e.features.includes("ibc-go")&&this.setUrl("/ibc/apps/transfer/v1/denom_traces/"+this.hash),t()})})}onStop(){this.disposer&&(this.disposer(),this.disposer=void 0),super.onStop()}get paths(){if(!this.response)return[];var t=this.response.data.denom_trace.path.split("/");if(t.length%2!=0)return[];var r=[];for(let e=0;e<t.length;e+=2)r.push(t.slice(e,e+2));return r.map(e=>({portId:e[0],channelId:e[1]}))}get denom(){if(this.response)return this.response.data.denom_trace.base_denom}get denomTrace(){if(this.response&&this.denom)return{denom:this.denom,paths:this.paths}}}s([i.computed],o.prototype,"paths",null),s([i.computed],o.prototype,"denomTrace",null),t.ObservableChainQueryDenomTrace=o;class a extends n.ObservableChainQueryMap{constructor(e,t,r){super(e,t,r,e=>new o(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=r}getDenomTrace(e){return this.get(e)}}t.ObservableQueryDenomTrace=a},1449:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryCosmosBalanceRegistry=t.ObservableQueryCosmosBalances=t.ObservableQueryBalanceNative=void 0;const i=r(27),o=r(5),a=r(26),c=r(119);var u=r(509),l=r(59);const h=r(236);class d extends u.ObservableQueryBalanceInner{constructor(e,t,r,s,n){super(e,t,r,"",s),this.nativeBalances=n,o.makeObservable(this)}canFetch(){return!1}get isFetching(){return this.nativeBalances.isFetching}get error(){return this.nativeBalances.error}get response(){return this.nativeBalances.response}*fetch(){yield this.nativeBalances.fetch()}get balance(){var e=this.currency;return this.nativeBalances.response?c.StoreUtils.getBalanceFromCurrency(e,this.nativeBalances.response.data.balances):new a.CoinPretty(e,new a.Int(0)).ready(!1)}}s([o.override],d.prototype,"fetch",null),s([o.computed],d.prototype,"balance",null),t.ObservableQueryBalanceNative=d;class p extends l.ObservableChainQuery{constructor(e,t,r,s,n){super(e,t,r,`/cosmos/bank/v1beta1/balances/${s}?pagination.limit=1000`),this.duplicatedFetchCheck=!0,this.QueryClient=new h.QueryClient,this.bech32Address=s,this.misesStore=n,o.makeObservable(this)}canFetch(){return 0<this.bech32Address.length}*fetch(){var e;null!=(e=this.QueryClient)&&e.fetchQuery("getMisesBalance",()=>this.getMisesBalance(),this.fetchConfig).then(e=>{this.setResponse(e)})}getMisesBalance(){var e;return n(this,void 0,void 0,function*(){return{status:200,data:{balances:[yield null==(e=this.misesStore)?void 0:e.getBalanceUMIS()]},staled:!0,timestamp:(new Date).getTime()}})}setResponse(e){super.setResponse(e);var t=this.chainGetter.getChain(this.chainId),e=e.data.balances.map(e=>e.denom);t.addUnknownCurrencies(...e)}}s([o.override],p.prototype,"fetch",null),t.ObservableQueryCosmosBalances=p;t.ObservableQueryCosmosBalanceRegistry=class{constructor(e,t){this.kvStore=e,this.misesStore=t,this.nativeBalances=new Map}getBalanceInner(e,t,r,s){var n,s=new i.DenomHelper(s);if("native"===s.type)return this.nativeBalances.has(n=e+"/"+r)||this.nativeBalances.set(n,new p(this.kvStore,e,t,r,this.misesStore)),new d(this.kvStore,e,t,s,this.nativeBalances.get(n))}}},1450:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQuerySpendableBalances=t.ObservableChainQuerySpendableBalances=void 0,r(59));const i=r(26);r=r(5);class o extends n.ObservableChainQuery{constructor(e,t,r,s){super(e,t,r,"/cosmos/bank/v1beta1/spendable_balances/"+s)}get balances(){if(!this.response)return[];var e=[],t=this.chainGetter.getChain(this.chainId);for(const s of this.response.data.balances){var r=t.findCurrency(s.denom);r&&e.push(new i.CoinPretty(r,s.amount))}return e}}s([r.computed],o.prototype,"balances",null),t.ObservableChainQuerySpendableBalances=o;class a extends n.ObservableChainQueryMap{constructor(e,t,r){super(e,t,r,e=>new o(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=r}getQueryBech32Address(e){return this.get(e)}}t.ObservableQuerySpendableBalances=a},1451:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1452:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1453:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1454:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1455:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CosmosQueriesImpl=t.CosmosQueries=void 0;const i=r(1240),o=r(1239),a=r(1238),c=r(1234),u=r(1241),l=r(1456),h=r(1242),d=r(1457),p=r(1458),f=r(1462),y=r(1464),v=r(1466);t.CosmosQueries={use(n){return(e,t,r,s)=>({cosmos:new g(e,t,r,s,n)})}};class g{constructor(e,t,r,s,n){this.queryRPCStatus=new y.ObservableQueryRPCStatus(t,r,s),this.querySifchainAPY=new l.ObservableQuerySifchainLiquidityAPY(t,r),e.queryBalances.addBalanceRegistry(new h.ObservableQueryCosmosBalanceRegistry(t,n)),this.queryAccount=new i.ObservableQueryAccount(t,r,s),this.querySpendableBalances=new h.ObservableQuerySpendableBalances(t,r,s),this.queryMint=new o.ObservableQueryMintingInfation(t,r,s),this.queryPool=new a.ObservableQueryStakingPool(t,r,s),this.queryStakingParams=new a.ObservableQueryStakingParams(t,r,s),this.querySupplyTotal=new o.ObservableQuerySupplyTotal(t,r,s);e=new p.ObservableQueryOsmosisMintParmas(t,r,s);this.queryDistributionParams=new f.ObservableQueryDistributionParams(t,r,s),this.queryInflation=new o.ObservableQueryInflation(r,s,this.queryMint,this.queryPool,this.querySupplyTotal,new d.ObservableQueryIrisMintingInfation(t,r,s),this.querySifchainAPY,new p.ObservableQueryOsmosisEpochs(t,r,s),new p.ObservableQueryOsmosisEpochProvisions(t,r,s,e),e,new v.ObservableQueryJunoAnnualProvisions(t,r,s),this.queryDistributionParams),this.queryRewards=new a.ObservableQueryRewards(t,r,s,n),this.queryDelegations=new a.ObservableQueryDelegations(t,r,s,n),this.queryUnbondingDelegations=new a.ObservableQueryUnbondingDelegations(t,r,s,n),this.queryValidators=new a.ObservableQueryValidators(t,r,s),this.queryGovernance=new c.ObservableQueryGovernance(t,r,s,this.queryPool),this.queryProposalVote=new c.ObservableQueryProposalVote(t,r,s),this.queryIBCClientState=new u.ObservableQueryIBCClientState(t,r,s),this.queryIBCChannel=new u.ObservableQueryIBCChannel(t,r,s),this.queryIBCDenomTrace=new u.ObservableQueryDenomTrace(t,r,s)}}t.CosmosQueriesImpl=g},1456:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQuerySifchainLiquidityAPY=void 0,r(119));const o=n(r(60)),a=r(5);class c extends i.ObservableQuery{constructor(e,t){super(e,o.default.create({baseURL:"https://data.sifchain.finance/"}),"beta/validator/stakingRewards"),this.chainId=t,a.makeObservable(this)}canFetch(){return this.chainId.startsWith("sifchain")}get liquidityAPY(){return this.response?100*Number(this.response.data.rate):0}}s([a.computed],c.prototype,"liquidityAPY",null),t.ObservableQuerySifchainLiquidityAPY=c},1457:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryIrisMintingInfation=void 0;class s extends r(59).ObservableChainQuery{constructor(e,t,r){super(e,t,r,"/mint/params")}}t.ObservableQueryIrisMintingInfation=s},1458:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1459),t),n(r(1460),t),n(r(1461),t)},1459:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryOsmosisEpochs=t.ObservableQueryOsmosisEpochsInner=void 0,r(59)),r=r(5);class i{constructor(e,t){this.identifier=e,this.queryEpochs=t}get epoch(){var e;return null==(e=this.queryEpochs.response)?void 0:e.data.epochs.find(e=>e.identifier===this.identifier)}get duration(){return this.epoch?parseInt(this.epoch.duration.replace("s","")):0}get startTime(){return this.epoch?new Date(this.epoch.current_epoch_start_time):new Date(0)}get endTime(){var e=this.startTime;return this.duration?new Date(e.getTime()+1e3*this.duration):e}}s([r.computed],i.prototype,"epoch",null),s([r.computed],i.prototype,"duration",null),s([r.computed],i.prototype,"startTime",null),s([r.computed],i.prototype,"endTime",null),t.ObservableQueryOsmosisEpochsInner=i;class o extends n.ObservableChainQuery{constructor(e,t,r){super(e,t,r,"/osmosis/epochs/v1beta1/epochs"),this.map=new Map}getEpoch(e){var t;return this.map.has(e)||(t=new i(e,this),this.map.set(e,t)),this.map.get(e)}}s([r.observable.shallow],o.prototype,"map",void 0),t.ObservableQueryOsmosisEpochs=o},1460:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryOsmosisEpochProvisions=void 0,r(59));const i=r(5),o=r(26);class a extends n.ObservableChainQuery{constructor(e,t,r,s){super(e,t,r,"/osmosis/mint/v1beta1/epoch_provisions"),this.queryMintParmas=s,i.makeObservable(this)}get epochProvisions(){if(this.response&&this.queryMintParmas.mintDenom){var t=this.chainGetter.getChain(this.chainId).currencies.find(e=>e.coinMinimalDenom===this.queryMintParmas.mintDenom);if(!t)throw new Error("Unknown currency");let e=this.response.data.epoch_provisions;return e.includes(".")&&(e=e.slice(0,e.indexOf("."))),new o.CoinPretty(t,new o.Int(e))}}}s([i.computed],a.prototype,"epochProvisions",null),t.ObservableQueryOsmosisEpochProvisions=a},1461:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryOsmosisMintParmas=void 0,r(59));const i=r(5),o=r(26);class a extends n.ObservableChainQuery{constructor(e,t,r){super(e,t,r,"/osmosis/mint/v1beta1/params"),i.makeObservable(this)}get mintDenom(){var e;return null==(e=this.response)?void 0:e.data.params.mint_denom}get epochIdentifier(){var e;return null==(e=this.response)?void 0:e.data.params.epoch_identifier}get distributionProportions(){return this.response?{staking:new o.Dec(this.response.data.params.distribution_proportions.staking),poolIncentives:new o.Dec(this.response.data.params.distribution_proportions.pool_incentives),developerRewards:new o.Dec(this.response.data.params.distribution_proportions.developer_rewards)}:{staking:new o.Dec(0),poolIncentives:new o.Dec(0),developerRewards:new o.Dec(0)}}}s([i.computed],a.prototype,"distributionProportions",null),t.ObservableQueryOsmosisMintParmas=a},1462:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1463),t)},1463:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryDistributionParams=void 0,r(59));const i=r(5),o=r(26);class a extends n.ObservableChainQuery{constructor(e,t,r){super(e,t,r,"/cosmos/distribution/v1beta1/params"),i.makeObservable(this)}get communityTax(){return this.response?new o.RatePretty(this.response.data.params.community_tax):new o.RatePretty(0)}}s([i.computed],a.prototype,"communityTax",null),t.ObservableQueryDistributionParams=a},1464:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryRPCStatus=void 0;var s=r(1465);const n=r(26);class i extends s.ObservableChainQueryRPC{constructor(e,t,r){super(e,t,r,"/status")}get network(){if(this.response)return this.response.data.result.node_info.network}get latestBlockHeight(){if(this.response)return new n.Int(this.response.data.result.sync_info.latest_block_height)}}t.ObservableQueryRPCStatus=i},1465:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableChainQueryRPCMap=t.ObservableChainQueryRPC=void 0,r(119));const o=n(r(60));n=r(5),r=r(119);class a extends i.ObservableQuery{constructor(e,t,r,s){var n=r.getChain(t);super(e,o.default.create(Object.assign({baseURL:n.rpc},n.rpcConfig)),s),this._chainId=t,this.chainGetter=r}get instance(){var e=this.chainGetter.getChain(this.chainId);return o.default.create(Object.assign({baseURL:e.rpc},e.rpcConfig))}get chainId(){return this._chainId}}s([n.override],a.prototype,"instance",null),t.ObservableChainQueryRPC=a;class c extends r.HasMapStore{constructor(e,t,r,s){super(s),this.kvStore=e,this.chainId=t,this.chainGetter=r}}t.ObservableChainQueryRPCMap=c},1466:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1467),t)},1467:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryJunoAnnualProvisions=void 0,r(59));const i=r(5),o=r(26);class a extends n.ObservableChainQuery{constructor(e,t,r){super(e,t,r,"/cosmos/mint/v1beta1/annual_provisions"),i.makeObservable(this)}get annualProvisions(){var e;if(this.response)return e=this.chainGetter.getChain(this.chainId),new o.CoinPretty(e.stakeCurrency,new o.Dec(this.response.data.annual_provisions))}get annualProvisionsRaw(){if(this.response)return new o.Dec(this.response.data.annual_provisions)}}s([i.computed],a.prototype,"annualProvisions",null),s([i.computed],a.prototype,"annualProvisionsRaw",null),t.ObservableQueryJunoAnnualProvisions=a},1468:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&s(t,e,r);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CosmWasm=void 0,i(r(1243),t),t.CosmWasm=o(r(1469)),i(r(1470),t)},1469:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1470:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CosmwasmQueriesImpl=t.CosmwasmQueries=void 0;const n=r(1471),i=r(1243);t.CosmwasmQueries={use(){return(e,t,r,s)=>({cosmwasm:new o(e,t,r,s)})}};class o{constructor(e,t,r,s){e.queryBalances.addBalanceRegistry(new i.ObservableQueryCw20BalanceRegistry(t)),this.querycw20ContractInfo=new n.ObservableQueryCw20ContractInfo(t,r,s)}}t.CosmwasmQueriesImpl=o},1471:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryCw20ContractInfo=t.ObservableQueryCw20ContactInfoInner=void 0,r(59)),i=r(5);class o extends r(1244).ObservableCosmwasmContractChainQuery{constructor(e,t,r,s){super(e,t,r,s,{token_info:{}}),this.contractAddress=s}get tokenInfo(){if(this.response&&this.response.data)return this.response.data}}s([i.computed],o.prototype,"tokenInfo",null),t.ObservableQueryCw20ContactInfoInner=o;class a extends n.ObservableChainQueryMap{constructor(e,t,r){super(e,t,r,e=>new o(this.kvStore,this.chainId,this.chainGetter,e)),this.kvStore=e,this.chainId=t,this.chainGetter=r}getQueryContract(e){return this.get(e)}}t.ObservableQueryCw20ContractInfo=a},1472:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&s(t,e,r);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.SecretWasm=void 0,i(r(1245),t),i(r(1246),t),i(r(1248),t),t.SecretWasm=o(r(1473)),i(r(1474),t)},1473:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1474:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SecretQueriesImpl=t.SecretQueries=void 0;const i=r(1245),o=r(1475),a=r(1246);t.SecretQueries={use(n){return(e,t,r,s)=>({secret:new c(e,t,r,s,n.apiGetter)})}};class c{constructor(e,t,r,s,n){this.querySecretContractCodeHash=new i.ObservableQuerySecretContractCodeHash(t,r,s),e.queryBalances.addBalanceRegistry(new a.ObservableQuerySecret20BalanceRegistry(t,n,this.querySecretContractCodeHash)),this.querySecret20ContractInfo=new o.ObservableQuerySecret20ContractInfo(t,r,s,n,this.querySecretContractCodeHash)}}t.SecretQueriesImpl=c},1475:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQuerySecret20ContractInfo=t.ObservableQuerySecret20ContactInfoInner=void 0,r(59));const o=r(5);class i extends r(1247).ObservableSecretContractChainQuery{constructor(e,t,r,s,n,i){super(e,t,r,s,n,{token_info:{}},i),this.apiGetter=s,this.contractAddress=n,this.querySecretContractCodeHash=i,o.makeObservable(this)}get error(){return super.error||this.querySecretContractCodeHash.getQueryContract(this.contractAddress).error}get tokenInfo(){if(this.response)return this.response.data.token_info}}s([o.computed],i.prototype,"tokenInfo",null),t.ObservableQuerySecret20ContactInfoInner=i;class a extends n.ObservableChainQueryMap{constructor(e,t,r,s,n){super(e,t,r,e=>new i(this.kvStore,this.chainId,this.chainGetter,this.apiGetter,e,n)),this.kvStore=e,this.chainId=t,this.chainGetter=r,this.apiGetter=s,this.querySecretContractCodeHash=n}getQueryContract(e){return this.get(e)}}t.ObservableQuerySecret20ContractInfo=a},1476:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&s(t,e,r);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TxFeesBaseDenom=t.TxFeesSpotPriceByDenom=t.TxFeesFeeTokens=void 0,i(r(1249),t),i(r(1250),t),i(r(1251),t),t.TxFeesFeeTokens=o(r(1477)),t.TxFeesSpotPriceByDenom=o(r(1478)),t.TxFeesBaseDenom=o(r(1479)),i(r(1480),t)},1477:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1478:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1479:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1480:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OsmosisQueriesImpl=t.OsmosisQueries=void 0;const n=r(1249),i=r(1250),o=r(1251);t.OsmosisQueries={use(){return(e,t,r,s)=>({osmosis:new a(e,t,r,s)})}};class a{constructor(e,t,r,s){this.queryTxFeesFeeTokens=new n.ObservableQueryTxFeesFeeTokens(t,r,s),this.queryTxFeesSpotPriceByDenom=new i.ObservableQueryTxFeesSpotPriceByDenom(t,r,s),this.queryTxFeesBaseDenom=new o.ObservableQueryTxFeesBaseDenom(t,r,s)}}t.OsmosisQueriesImpl=a},1481:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ChainStore=t.ChainInfoInner=void 0;const i=r(5),n=r(16),o=r(201);class a{constructor(e){this.unknownDenoms=[],this.registeredCurrencies=[],this.currencyRegistrars=[],this._chainInfo=e,i.makeObservable(this),o.keepAlive(this,"currencyMap")}getCurrencyFromRegistrars(t){for(let e=0;e<this.currencyRegistrars.length;e++){var r=(0,this.currencyRegistrars[e])(t);if(r)return"coinMinimalDenom"in r?[r,!0]:r}}addUnknownCurrencies(...e){for(const s of e)if(!this.unknownDenoms.find(e=>e===s)&&!this.currencyMap.has(s)){this.unknownDenoms.push(s);const n=i.autorun(()=>{var e=this.getCurrencyFromRegistrars(s);if(e){const[t,r]=e;i.runInAction(()=>{var e;t&&(0<=(e=this.unknownDenoms.findIndex(e=>e===s))&&this.unknownDenoms.splice(e,1),this.addOrReplaceCurrency(t)),r&&n()})}else n()})}}registerCurrencyRegistrar(e){this.currencyRegistrars.push(e)}setChainInfo(e){this._chainInfo=e}get raw(){return this._chainInfo}get chainId(){return this._chainInfo.chainId}get currencies(){return this._chainInfo.currencies.concat(this.registeredCurrencies)}get currencyMap(){var e=new Map;for(const t of this.currencies)e.set(t.coinMinimalDenom,t);return e}addCurrencies(...e){var t=this.currencyMap;for(const r of e)t.has(r.coinMinimalDenom)||this.registeredCurrencies.push(r)}removeCurrencies(...e){const t=new Map;for(const r of e)t.set(r,!0);this.registeredCurrencies=this.registeredCurrencies.filter(e=>!t.get(e.coinMinimalDenom))}findCurrency(e){return this.currencyMap.has(e)||(this.addUnknownCurrencies(e),this.currencyMap.has(e))?this.currencyMap.get(e):void 0}forceFindCurrency(e){var t=this.findCurrency(e);return t||{coinMinimalDenom:e,coinDenom:e,coinDecimals:0}}addOrReplaceCurrency(t){var e;this.currencyMap.has(t.coinMinimalDenom)?0<=(e=this.registeredCurrencies.findIndex(e=>e.coinMinimalDenom===t.coinMinimalDenom))&&this.registeredCurrencies.splice(e,1,t):this.registeredCurrencies.push(t)}get stakeCurrency(){return this.raw.stakeCurrency}get alternativeBIP44s(){return this.raw.alternativeBIP44s}get bech32Config(){return this.raw.bech32Config}get beta(){return this.raw.beta}get bip44(){return this.raw.bip44}get chainName(){return this.raw.chainName}get coinType(){return this.raw.coinType}get features(){return this.raw.features}get feeCurrencies(){return this.raw.feeCurrencies}get rest(){return this.raw.rest}get restConfig(){return this.raw.restConfig}get rpc(){return this.raw.rpc}get rpcConfig(){return this.raw.rpcConfig}get walletUrl(){return this.raw.walletUrl}get walletUrlForStaking(){return this.raw.walletUrlForStaking}}s([i.observable.ref],a.prototype,"_chainInfo",void 0),s([i.observable.shallow],a.prototype,"unknownDenoms",void 0),s([i.observable.shallow],a.prototype,"registeredCurrencies",void 0),s([i.observable],a.prototype,"currencyRegistrars",void 0),s([i.action],a.prototype,"addUnknownCurrencies",null),s([i.action],a.prototype,"registerCurrencyRegistrar",null),s([i.action],a.prototype,"setChainInfo",null),s([i.computed],a.prototype,"currencyMap",null),s([i.action],a.prototype,"addCurrencies",null),s([i.action],a.prototype,"removeCurrencies",null),s([i.action],a.prototype,"addOrReplaceCurrency",null),t.ChainInfoInner=a;class c{constructor(e){this.setChainInfoHandlers=[],this._cachedChainInfosMap=new Map,this.setChainInfos(e),i.makeObservable(this)}get chainInfos(){return this._chainInfos}getChain(e){const t=n.ChainIdHelper.parse(e);var r=this.chainInfos.find(e=>n.ChainIdHelper.parse(e.chainId).identifier===t.identifier);if(r)return r;throw new Error("Unknown chain info: "+e)}hasChain(e){const t=n.ChainIdHelper.parse(e);return null!=this.chainInfos.find(e=>n.ChainIdHelper.parse(e.chainId).identifier===t.identifier)}addSetChainInfoHandler(e){this.setChainInfoHandlers.push(e);for(const t of this.chainInfos)e(this._cachedChainInfosMap.get(t.chainId))}setChainInfos(e){var t=[];for(const n of e)if(this._cachedChainInfosMap.has(n.chainId)){var r=this._cachedChainInfosMap.get(n.chainId);r.setChainInfo(n),t.push(r)}else{var s=new a(n);this._cachedChainInfosMap.set(n.chainId,s),t.push(s);for(const i of this.setChainInfoHandlers)i(s)}this._chainInfos=t}}s([i.observable.ref],c.prototype,"_chainInfos",void 0),s([i.action],c.prototype,"setChainInfos",null),t.ChainStore=c},1482:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1483),t),n(r(1489),t),n(r(1490),t),n(r(1491),t),n(r(1492),t)},1483:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1484),t),n(r(1486),t),n(r(1487),t),n(r(1488),t)},1484:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.InteractionStore=void 0;const n=r(3),i=r(54),o=r(5);class a{constructor(e,t){this.router=e,this.msgRequester=t,this.datas=new Map,this.events=new Map,o.makeObservable(this);t=new i.InteractionForegroundService(this);i.interactionForegroundInit(e,t)}getDatas(e){return null!=(e=o.toJS(this.datas.get(e)))?e:[]}getEvents(e){return null!=(e=o.toJS(this.events.get(e)))?e:[]}onInteractionDataReceived(e){this.datas.has(e.type)||this.datas.set(e.type,o.observable.array([],{deep:!1})),this.datas.get(e.type).push(e)}onEventDataReceived(e){this.events.has(e.type)||this.events.set(e.type,o.observable.array([],{deep:!1})),this.events.get(e.type).push(e)}*approve(e,t,r){this.removeData(e,t),yield this.msgRequester.sendMessage(n.BACKGROUND_PORT,new i.ApproveInteractionMsg(t,r))}*approveWithoutRemovingData(e,t){yield this.msgRequester.sendMessage(n.BACKGROUND_PORT,new i.ApproveInteractionMsg(e,t))}*reject(e,t){this.removeData(e,t),yield this.msgRequester.sendMessage(n.BACKGROUND_PORT,new i.RejectInteractionMsg(t))}*rejectAll(e){for(const t of this.getDatas(e))yield this.reject(t.type,t.id)}removeData(e,t){var r;this.datas.has(e)&&(r=this.datas.get(e).find(e=>e.id===t))&&this.datas.get(e).remove(r)}clearEvent(e){this.events.has(e)&&0<this.events.get(e).length&&this.events.set(e,o.observable.array([],{deep:!1}))}}s([o.observable.shallow],a.prototype,"datas",void 0),s([o.observable.shallow],a.prototype,"events",void 0),s([o.action],a.prototype,"onInteractionDataReceived",null),s([o.action],a.prototype,"onEventDataReceived",null),s([o.flow],a.prototype,"approve",null),s([o.flow],a.prototype,"approveWithoutRemovingData",null),s([o.flow],a.prototype,"reject",null),s([o.flow],a.prototype,"rejectAll",null),s([o.action],a.prototype,"removeData",null),s([o.action],a.prototype,"clearEvent",null),t.InteractionStore=a},1486:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionStore=t.BasicAccessPermissionInnerStore=t.Secret20ViewingKeyPermissionInnerStore=void 0;const i=r(54),o=r(5);var a=r(119);const c=r(3),u=r(27);class l{constructor(e,t,r){this.chainId=e,this.contractAddress=t,this.requester=r,this._origins=[],o.makeObservable(this),this.refreshOrigins()}get origins(){return this._origins}*removeOrigin(e){yield this.requester.sendMessage(c.BACKGROUND_PORT,new i.RemovePermissionOrigin(this.chainId,i.getSecret20ViewingKeyPermissionType(this.contractAddress),e)),yield this.refreshOrigins()}*refreshOrigins(){this._origins=yield*u.toGenerator(this.requester.sendMessage(c.BACKGROUND_PORT,new i.GetPermissionOriginsMsg(this.chainId,i.getSecret20ViewingKeyPermissionType(this.contractAddress))))}}s([o.observable.ref],l.prototype,"_origins",void 0),s([o.flow],l.prototype,"removeOrigin",null),s([o.flow],l.prototype,"refreshOrigins",null),t.Secret20ViewingKeyPermissionInnerStore=l;class h{constructor(e,t){this.chainId=e,this.requester=t,this._origins=[],o.makeObservable(this),this.refreshOrigins()}get origins(){return this._origins}*addOrigin(e){yield this.requester.sendMessage(c.BACKGROUND_PORT,new i.AddPermissionOrigin(this.chainId,i.getBasicAccessPermissionType(),e)),yield this.refreshOrigins()}*removeOrigin(e){yield this.requester.sendMessage(c.BACKGROUND_PORT,new i.RemovePermissionOrigin(this.chainId,i.getBasicAccessPermissionType(),e)),yield this.refreshOrigins()}*refreshOrigins(){this._origins=yield*u.toGenerator(this.requester.sendMessage(c.BACKGROUND_PORT,new i.GetPermissionOriginsMsg(this.chainId,i.getBasicAccessPermissionType())))}}s([o.observable.ref],h.prototype,"_origins",void 0),s([o.flow],h.prototype,"addOrigin",null),s([o.flow],h.prototype,"removeOrigin",null),s([o.flow],h.prototype,"refreshOrigins",null),t.BasicAccessPermissionInnerStore=h;class d extends a.HasMapStore{constructor(e,t){super(e=>{e=JSON.parse(e);return"basicAccess"===e.type?new h(e.chainId,this.requester):new l(e.chainId,e.contractAddress,this.requester)}),this.interactionStore=e,this.requester=t,this._isLoading=!1,o.makeObservable(this)}getBasicAccessInfo(e){e=JSON.stringify({type:"basicAccess",chainId:e,contractAddress:""});return this.get(e)}getOriginPermittedChains(e,t){return n(this,void 0,void 0,function*(){return yield this.requester.sendMessage(c.BACKGROUND_PORT,new i.GetOriginPermittedChainsMsg(e,t))})}getSecret20ViewingKeyAccessInfo(e,t){e=JSON.stringify({type:"viewingKey",chainId:e,contractAddress:t});return this.get(e)}get waitingBasicAccessPermissions(){var e=[];for(const t of this.waitingDatas)i.isBasicAccessPermissionType(t.data.type)&&e.push({id:t.id,data:{chainIds:t.data.chainIds,origins:t.data.origins}});return e}get waitingSecret20ViewingKeyAccessPermissions(){var e=[];for(const t of this.waitingDatas)i.isSecret20ViewingKeyPermissionType(t.data.type)&&e.push({id:t.id,data:{chainIds:t.data.chainIds,contractAddress:i.splitSecret20ViewingKeyPermissionType(t.data.type),origins:t.data.origins}});return e}get waitingDatas(){return this.interactionStore.getDatas(i.INTERACTION_TYPE_PERMISSION)}*approve(e){this._isLoading=!0;try{yield this.interactionStore.approve(i.INTERACTION_TYPE_PERMISSION,e,{})}finally{this._isLoading=!1}}*reject(e){this._isLoading=!0;try{yield this.interactionStore.reject(i.INTERACTION_TYPE_PERMISSION,e)}finally{this._isLoading=!1}}*rejectAll(){this._isLoading=!0;try{yield this.interactionStore.rejectAll(i.INTERACTION_TYPE_PERMISSION)}finally{this._isLoading=!1}}get isLoading(){return this._isLoading}}s([o.observable],d.prototype,"_isLoading",void 0),s([o.computed],d.prototype,"waitingBasicAccessPermissions",null),s([o.computed],d.prototype,"waitingSecret20ViewingKeyAccessPermissions",null),s([o.flow],d.prototype,"approve",null),s([o.flow],d.prototype,"reject",null),s([o.flow],d.prototype,"rejectAll",null),t.PermissionStore=d},1487:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.SignInteractionStore=void 0;const n=r(5),i=r(16);class o{constructor(e){this.interactionStore=e,this._isLoading=!1,n.makeObservable(this),n.autorun(()=>{var t=this.waitingDatas.slice();if(1<t.length)for(let e=1;e<t.length;e++)this.rejectWithId(t[e].id)})}get waitingDatas(){return this.interactionStore.getDatas("request-sign")}get waitingData(){var e,t=this.waitingDatas;if(0!==t.length)return e="amino"===(t=t[0]).data.mode?i.SignDocWrapper.fromAminoSignDoc(t.data.signDoc):i.SignDocWrapper.fromDirectSignDocBytes(t.data.signDocBytes),{id:t.id,type:t.type,isInternal:t.isInternal,data:{chainId:t.data.chainId,msgOrigin:t.data.msgOrigin,signer:t.data.signer,signDocWrapper:e,signOptions:t.data.signOptions,isADR36WithString:"isADR36WithString"in t.data?t.data.isADR36WithString:void 0,ethSignType:"ethSignType"in t.data?t.data.ethSignType:void 0}}}isEnded(){return 0<this.interactionStore.getEvents("request-sign-end").length}clearEnded(){this.interactionStore.clearEvent("request-sign-end")}waitEnd(){return this.isEnded()?Promise.resolve():new Promise(e=>{const t=n.autorun(()=>{this.isEnded()&&(e(),this.clearEnded(),t())})})}*approveAndWaitEnd(e){if(0!==this.waitingDatas.length){this._isLoading=!0;var t=this.waitingDatas[0].id;try{var r="amino"===e.mode?e.aminoSignDoc:e.protoSignDoc.toBytes();yield this.interactionStore.approveWithoutRemovingData(t,r)}finally{yield this.waitEnd(),this.interactionStore.removeData("request-sign",t),this._isLoading=!1}}}*reject(){if(0!==this.waitingDatas.length){this._isLoading=!0;try{yield this.interactionStore.reject("request-sign",this.waitingDatas[0].id)}finally{this._isLoading=!1}}}*rejectAll(){this._isLoading=!0;try{yield this.interactionStore.rejectAll("request-sign")}finally{this._isLoading=!1}}*rejectWithId(e){yield this.interactionStore.reject("request-sign",e)}get isLoading(){return this._isLoading}}s([n.observable],o.prototype,"_isLoading",void 0),s([n.computed],o.prototype,"waitingData",null),s([n.flow],o.prototype,"approveAndWaitEnd",null),s([n.flow],o.prototype,"reject",null),s([n.flow],o.prototype,"rejectAll",null),s([n.flow],o.prototype,"rejectWithId",null),t.SignInteractionStore=o},1488:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.ChainSuggestStore=void 0;const n=r(54),i=r(5);class o{constructor(e){this.interactionStore=e,this._isLoading=!1,i.makeObservable(this)}get waitingSuggestedChainInfo(){var e=this.interactionStore.getDatas(n.SuggestChainInfoMsg.type());if(0<e.length)return e[0]}*approve(){this._isLoading=!0;try{var e=this.waitingSuggestedChainInfo;e&&(yield this.interactionStore.approve(e.type,e.id,{}))}finally{this._isLoading=!1}}*reject(){this._isLoading=!0;try{var e=this.waitingSuggestedChainInfo;e&&(yield this.interactionStore.reject(e.type,e.id))}finally{this._isLoading=!1}}*rejectAll(){this._isLoading=!0;try{yield this.interactionStore.rejectAll(n.SuggestChainInfoMsg.type())}finally{this._isLoading=!1}}get isLoading(){return this._isLoading}}s([i.observable],o.prototype,"_isLoading",void 0),s([i.flow],o.prototype,"approve",null),s([i.flow],o.prototype,"reject",null),s([i.flow],o.prototype,"rejectAll",null),t.ChainSuggestStore=o},1489:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.KeyRingStore=t.KeyRingSelectablesStore=void 0;const i=r(3),o=r(54),a=r(5),c=r(27);class u{constructor(e,t,r,s){this.chainGetter=e,this.requester=t,this.chainId=r,this.keyRingStore=s,this.isInitializing=!1,this._isKeyStoreCoinTypeSet=!1,this._selectables=[],a.makeObservable(this),this.refresh()}get needSelectCoinType(){var e=this.chainGetter.getChain(this.chainId);return!(!e.alternativeBIP44s||0===e.alternativeBIP44s.length||this.isInitializing||this._isKeyStoreCoinTypeSet)}get selectables(){return this._selectables}*refresh(){var e;"mnemonic"!==this.keyRingStore.keyRingType?(this.isInitializing=!1,this._isKeyStoreCoinTypeSet=!0,this._selectables=[]):(this.isInitializing=!0,e=this.chainGetter.getChain(this.chainId),e=new o.GetIsKeyStoreCoinTypeSetMsg(this.chainId,[e.bip44,...null!=(e=e.alternativeBIP44s)?e:[]]),0===(e=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,e))).length?this._isKeyStoreCoinTypeSet=!0:1===e.length?(yield this.keyRingStore.setKeyStoreCoinType(this.chainId,e[0].path.coinType),this._isKeyStoreCoinTypeSet=!0):(this._selectables=e,this._isKeyStoreCoinTypeSet=!1),this.isInitializing=!1)}}s([a.observable],u.prototype,"isInitializing",void 0),s([a.observable],u.prototype,"_isKeyStoreCoinTypeSet",void 0),s([a.observable.ref],u.prototype,"_selectables",void 0),s([a.computed],u.prototype,"needSelectCoinType",null),s([a.flow],u.prototype,"refresh",null),t.KeyRingSelectablesStore=u;class l{constructor(e,t,r,s,n){this.eventDispatcher=e,this.defaultKdf=t,this.chainGetter=r,this.requester=s,this.interactionStore=n,this.status=o.KeyRingStatus.NOTLOADED,this.multiKeyStoreInfo=[],this.selectablesMap=new Map,this.keyStoreChangedListeners=[],a.makeObservable(this),this.restore()}get keyRingType(){var e=this.multiKeyStoreInfo.find(e=>e.selected);return e?o.KeyRing.getTypeOfKeyStore(e):"none"}*createMnemonicKey(e,t,r,s,n=this.defaultKdf){n=new o.CreateMnemonicKeyMsg(n,e,t,r,s),e=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,n));this.status=e.status,this.multiKeyStoreInfo=e.multiKeyStoreInfo}*createPrivateKey(e,t,r,s=this.defaultKdf){s=new o.CreatePrivateKeyMsg(s,e,t,r),e=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,s));this.status=e.status,this.multiKeyStoreInfo=e.multiKeyStoreInfo}*addMnemonicKey(e,t,r,s=this.defaultKdf){s=new o.AddMnemonicKeyMsg(s,e,t,r);this.multiKeyStoreInfo=(yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,s))).multiKeyStoreInfo}*addPrivateKey(e,t,r=this.defaultKdf){r=new o.AddPrivateKeyMsg(r,e,t);this.multiKeyStoreInfo=(yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,r))).multiKeyStoreInfo}*changeKeyRing(e){e=new o.ChangeKeyRingMsg(e);this.multiKeyStoreInfo=(yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,e))).multiKeyStoreInfo,this.dispatchKeyStoreChangeEvent(),this.selectablesMap.forEach(e=>e.refresh())}*lock(){var e=new o.LockKeyRingMsg,e=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,e));this.status=e.status}*unlock(e){e=new o.UnlockKeyRingMsg(e),e=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,e));this.status=e.status;for(const t of this.interactionStore.getDatas("unlock"))yield this.interactionStore.approve("unlock",t.id,{});this.dispatchKeyStoreChangeEvent(),this.selectablesMap.forEach(e=>e.refresh())}*rejectAll(){yield this.interactionStore.rejectAll("unlock")}*restore(){var e=new o.RestoreKeyRingMsg,e=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,e));this.status=e.status,this.multiKeyStoreInfo=e.multiKeyStoreInfo}showKeyRing(t,r){return n(this,void 0,void 0,function*(){var e=new o.ShowKeyRingMsg(t,r);return yield this.requester.sendMessage(i.BACKGROUND_PORT,e)})}*deleteKeyRing(e,t){var r=this.multiKeyStoreInfo.findIndex(e=>e.selected),t=new o.DeleteKeyRingMsg(e,t),t=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,t));this.status=t.status,this.multiKeyStoreInfo=t.multiKeyStoreInfo,r===e&&(this.dispatchKeyStoreChangeEvent(),this.selectablesMap.forEach(e=>e.refresh()))}*updateNameKeyRing(e,t){t=new o.UpdateNameKeyRingMsg(e,t),t=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,t)),this.multiKeyStoreInfo=t.multiKeyStoreInfo,t=this.multiKeyStoreInfo.findIndex(e=>e.selected);t===e&&this.dispatchKeyStoreChangeEvent()}checkPassword(e){return n(this,void 0,void 0,function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new o.CheckPasswordMsg(e))})}getKeyStoreSelectables(e){return this.selectablesMap.has(e)||a.runInAction(()=>{this.selectablesMap.set(e,new u(this.chainGetter,this.requester,e,this))}),this.selectablesMap.get(e)}*setKeyStoreCoinType(e,t){e=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,new o.SetKeyStoreCoinTypeMsg(e,t)));this.multiKeyStoreInfo=(yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,new o.GetMultiKeyStoreInfoMsg))).multiKeyStoreInfo,this.status=e,this.dispatchKeyStoreChangeEvent(),this.selectablesMap.forEach(e=>e.refresh())}exportKeyRingDatas(e){return n(this,void 0,void 0,function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new o.ExportKeyRingDatasMsg(e))})}dispatchKeyStoreChangeEvent(){this.eventDispatcher.dispatchEvent("mises_keystorechange");for(const e of this.keyStoreChangedListeners)e()}addKeyStoreChangedListener(e){this.keyStoreChangedListeners.push(e)}removeKeyStoreChangedListener(e){e=this.keyStoreChangedListeners.indexOf(e);0<=e&&this.keyStoreChangedListeners.splice(e,1)}addAccount(t,r){return n(this,void 0,void 0,function*(){var e=yield this.requester.sendMessage(i.BACKGROUND_PORT,new o.AddAccountMsg(t,r));this.multiKeyStoreInfo=e.multiKeyStoreInfo})}migratorKeyRing(t){return n(this,void 0,void 0,function*(){var e=yield this.requester.sendMessage(i.BACKGROUND_PORT,new o.MigratorKeyRingMsg(t));this.multiKeyStoreInfo=e.multiKeyStoreInfo})}restoreKeyStore(){return n(this,void 0,void 0,function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new o.RestoreKeyStoreMsg)})}}s([a.observable],l.prototype,"status",void 0),s([a.observable],l.prototype,"multiKeyStoreInfo",void 0),s([a.observable.shallow],l.prototype,"selectablesMap",void 0),s([a.computed],l.prototype,"keyRingType",null),s([a.flow],l.prototype,"createMnemonicKey",null),s([a.flow],l.prototype,"createPrivateKey",null),s([a.flow],l.prototype,"addMnemonicKey",null),s([a.flow],l.prototype,"addPrivateKey",null),s([a.flow],l.prototype,"changeKeyRing",null),s([a.flow],l.prototype,"lock",null),s([a.flow],l.prototype,"unlock",null),s([a.flow],l.prototype,"rejectAll",null),s([a.flow],l.prototype,"restore",null),s([a.flow],l.prototype,"deleteKeyRing",null),s([a.flow],l.prototype,"updateNameKeyRing",null),s([a.flow],l.prototype,"setKeyStoreCoinType",null),t.KeyRingStore=l},1490:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.TokensStore=t.TokensStoreInner=void 0,r(119));const i=r(3),o=r(54),a=r(5),c=r(27),u=r(16);class l{constructor(e,t,r,s){this.eventListener=e,this.chainStore=t,this.chainId=r,this.requester=s,this._tokens=[],a.makeObservable(this),this.refreshTokens(),this.eventListener.addEventListener("keplr_keystoreunlock",()=>{this.refreshTokens()}),this.eventListener.addEventListener("mises_keystorechange",()=>{this.refreshTokens()})}get tokens(){return this._tokens}*refreshTokens(){var e=this.chainStore.getChain(this.chainId);e.features&&(e.features.includes("secretwasm")||e.features.includes("cosmwasm"))?(e=new o.GetTokensMsg(this.chainId),this._tokens=yield*c.toGenerator(this.requester.sendMessage(i.BACKGROUND_PORT,e))):this._tokens=[]}*addToken(e){e=new o.AddTokenMsg(this.chainId,e);yield this.requester.sendMessage(i.BACKGROUND_PORT,e),yield this.refreshTokens()}*removeToken(e){e=new o.RemoveTokenMsg(this.chainId,e);yield this.requester.sendMessage(i.BACKGROUND_PORT,e),yield this.refreshTokens()}}s([a.observable.ref],l.prototype,"_tokens",void 0),s([a.flow],l.prototype,"refreshTokens",null),s([a.flow],l.prototype,"addToken",null),s([a.flow],l.prototype,"removeToken",null),t.TokensStoreInner=l;class h extends n.HasMapStore{constructor(e,t,r,s){super(e=>new l(this.eventListener,this.chainStore,e,this.requester)),this.eventListener=e,this.chainStore=t,this.requester=r,this.interactionStore=s,this.prevTokens=new Map,a.makeObservable(this),this.chainStore.addSetChainInfoHandler(r=>{a.autorun(()=>{var e=u.ChainIdHelper.parse(r.chainId),t=null!=(t=this.prevTokens.get(e.identifier))?t:[],t=(r.removeCurrencies(...t.map(e=>e.coinMinimalDenom)),this.getTokensOf(r.chainId));r.addCurrencies(...t.tokens),this.prevTokens.set(e.identifier,t.tokens)})})}getTokensOf(e){return this.get(e)}get waitingSuggestedToken(){var e=this.interactionStore.getDatas(o.SuggestTokenMsg.type());if(0<e.length)return e[0]}*approveSuggestedToken(e){var t=this.waitingSuggestedToken;t&&(yield this.interactionStore.approve(o.SuggestTokenMsg.type(),t.id,e),yield this.getTokensOf(t.data.chainId).refreshTokens())}*rejectSuggestedToken(){var e=this.waitingSuggestedToken;e&&(yield this.interactionStore.reject(o.SuggestTokenMsg.type(),e.id))}*rejectAllSuggestedTokens(){yield this.interactionStore.rejectAll(o.SuggestTokenMsg.type())}}s([a.flow],h.prototype,"approveSuggestedToken",null),s([a.flow],h.prototype,"rejectSuggestedToken",null),s([a.flow],h.prototype,"rejectAllSuggestedTokens",null),t.TokensStore=h},1491:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.MisesStore=void 0;const i=r(3),o=r(5),a=r(54);class c{constructor(e){this.requester=e,this.isInitializing=!1,this.autoLockAccountDuration=0,o.makeObservable(this),this.initAutoLockAccountDuration()}getBalanceUMIS(){return n(this,void 0,void 0,function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.BalanceUMISMsg)})}isMisesChain(e){return n(this,void 0,void 0,function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.MisesChainMsg(e))})}getChainId(){return n(this,void 0,void 0,function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.GetChainIdMsg)})}unbondingDelegations(e){return n(this,void 0,void 0,function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.UnbondingDelegationsMsg(e))})}delegations(e){return n(this,void 0,void 0,function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.DelegationsMsg(e))})}rewards(e){return n(this,void 0,void 0,function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.RewardsMsg(e))})}authAccounts(e){return n(this,void 0,void 0,function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.AuthAccountsMsg(e))})}broadcastTx(e){return n(this,void 0,void 0,function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.BroadcastTxMsg(e))})}simulate(e,t,r,s){return n(this,void 0,void 0,function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.SimulateMsg(e,t,r,s))})}recentTransactions(){return n(this,void 0,void 0,function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.RecentTransactionsMsg)})}activeUser(){return n(this,void 0,void 0,function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.ActiveUserMsg)})}portForTx(e){return n(this,void 0,void 0,function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.PortForTxMsg(e))})}getAutoLockAccountDuration(){return n(this,void 0,void 0,function*(){return yield this.requester.sendMessage(i.BACKGROUND_PORT,new a.GetAutoLockAccountDurationMsg)})}initAutoLockAccountDuration(){this.getAutoLockAccountDuration().then(e=>this.autoLockAccountDuration=e)}setLastActiveTime(){this.requester.sendMessage(i.BACKGROUND_PORT,new a.StartAutoLockMonitoringMsg)}setLock(){this.requester.sendMessage(i.BACKGROUND_PORT,new a.LockMsg)}saveTranstions(e){this.requester.sendMessage(i.BACKGROUND_PORT,new a.SaveTranstionsMsg(e))}}s([o.observable],c.prototype,"isInitializing",void 0),s([o.observable],c.prototype,"autoLockAccountDuration",void 0),t.MisesStore=c},1492:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.MisesSafeStore=void 0;const i=r(54),o=r(3),a=r(5);class c{constructor(e){this.requester=e,this.isShouldVerify=!0,a.makeObservable(this),this.initSafeConfig()}initSafeConfig(){this.getMisesSafeConfig().then(e=>this.isShouldVerify=e)}getMisesSafeConfig(){return n(this,void 0,void 0,function*(){return yield this.requester.sendMessage(o.BACKGROUND_PORT,new i.GetIsShouldVerifyMsg)})}setMisesSafeConfig(e){this.isShouldVerify=!!e,this.requester.sendMessage(o.BACKGROUND_PORT,new i.SetIsShouldVerifyMsg(e))}}s([a.observable],c.prototype,"isShouldVerify",void 0),t.MisesSafeStore=c},1493:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1494),t),n(r(1495),t)},1494:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.IBCChannelStore=t.IBCChannelStoreInner=void 0;const i=r(27),o=r(5),a=r(201);var c=r(119);const u=r(16);class l{constructor(e,t){this.kvStore=e,this.chainId=t,this.channelMap=new Map,this.getChannelsToPort=a.computedFn(e=>{this.channelMap.has(e)||o.runInAction(()=>{this.channelMap.set(e,o.observable.map({},{deep:!1}))});var t=[];for(const r of this.channelMap.get(e).values())t.push(r);return t}),this.getChannel=a.computedFn((e,t)=>{return null==(e=this.channelMap.get(e))?void 0:e.get(t)}),o.makeObservable(this),this.loadChannels()}getTransferChannels(){return this.getChannelsToPort("transfer")}*addChannel(e){this.channelMap.has(e.portId)||this.channelMap.set(e.portId,o.observable.map({},{deep:!1})),this.channelMap.get(e.portId).set(e.channelId,e),yield this.saveChannels()}*loadChannels(){var e=yield*i.toGenerator(this.kvStore.get(u.ChainIdHelper.parse(this.chainId).identifier+"-channels"));if(e)for(const r of Object.keys(e)){var t=e[r];for(const s of Object.keys(t))this.channelMap.has(r)||this.channelMap.set(r,o.observable.map({},{deep:!1})),this.channelMap.get(r).set(s,t[s])}}saveChannels(){return n(this,void 0,void 0,function*(){const r={};this.channelMap.forEach((e,t)=>{r[t]=(()=>{const r={};return e.forEach((e,t)=>{r[t]=e}),r})()}),yield this.kvStore.set(u.ChainIdHelper.parse(this.chainId).identifier+"-channels",r)})}}s([o.observable.shallow],l.prototype,"channelMap",void 0),s([o.flow],l.prototype,"addChannel",null),s([o.flow],l.prototype,"loadChannels",null),t.IBCChannelStoreInner=l;class h extends c.HasMapStore{constructor(t){super(e=>new l(t,e)),this.kvStore=t}get(e){return super.get(e)}}t.IBCChannelStore=h},1495:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.IBCCurrencyRegsitrar=t.IBCCurrencyRegsitrarInner=void 0;const c=r(5),l=r(27);class n{constructor(e,t,r,s,n,i,o,a){this.kvStore=e,this.cacheDuration=t,this.chainInfoInner=r,this.chainStore=s,this.accountStore=n,this.queriesStore=i,this.cosmwasmQueriesStore=o,this.coinDenomGenerator=a,this.isInitialized=!1,this.isInitializing=!1,this.cacheDenomTracePaths=new Map,c.makeObservable(this)}*restoreCache(){this.isInitializing=!0;const e="cache-ibc-denom-trace-paths/"+this.chainInfoInner.chainId;var t=yield*l.toGenerator(this.kvStore.get(e));if(t)for(const e of Object.keys(t))this.cacheDenomTracePaths.set(e,t[e]);this.isInitialized=!0,this.isInitializing=!1}getCacheIBCDenomData(e){e=this.cacheDenomTracePaths.get(e);if(e&&e.timestamp+this.cacheDuration>Date.now())return e}*setCacheIBCDenomData(e,t){this.cacheDenomTracePaths.set(e,Object.assign(Object.assign({},t),{timestamp:Date.now()}));const r={};this.cacheDenomTracePaths.forEach((e,t)=>{r[t]=e});e="cache-ibc-denom-trace-paths/"+this.chainInfoInner.chainId;yield this.kvStore.set(e,r)}registerUnknownCurrencies(n){n=new l.DenomHelper(n);if("native"===n.type&&n.denom.startsWith("ibc/")){if(this.isInitialized||this.restoreCache(),!this.isInitializing){var i=this.queriesStore.get(this.chainInfoInner.chainId),o=n.denom.replace("ibc/",""),a=this.getCacheIBCDenomData(o);let t,r,s;if(a)s=a.denomTrace,a.originChainId&&this.chainStore.hasChain(a.originChainId)&&(r=this.chainStore.getChain(a.originChainId)),a.counterpartyChainId&&this.chainStore.hasChain(a.counterpartyChainId)&&(t=this.chainStore.getChain(a.counterpartyChainId));else{var a=i.cosmos.queryIBCDenomTrace.getDenomTrace(o);if(s=a.denomTrace){var i=s.paths;let e=this.chainInfoInner.chainId;for(const u of i){var c=this.queriesStore.get(e).cosmos.queryIBCClientState.getClientState(u.portId,u.channelId);if(!c.clientChainId||!this.chainStore.hasChain(c.clientChainId)){r=void 0;break}e=c.clientChainId,r=this.chainStore.getChain(c.clientChainId),t=t||this.chainStore.getChain(c.clientChainId)}r&&this.setCacheIBCDenomData(o,{counterpartyChainId:null===t||void 0===t?void 0:t.chainId,denomTrace:s,originChainId:r.chainId})}}if(r&&s){if(4===s.denom.split(/^(cw20):(\w+)$/).length){let e=r.currencies.find(e=>s&&e.coinMinimalDenom.startsWith(s.denom));if(!e&&this.cosmwasmQueriesStore&&(a=this.cosmwasmQueriesStore.get(r.chainId),i=s.denom.replace("cw20:",""),(o=a.cosmwasm.querycw20ContractInfo.getQueryContract(i)).response)&&(e={type:"cw20",contractAddress:i,coinDecimals:o.response.data.decimals,coinDenom:o.response.data.symbol,coinMinimalDenom:`cw20:${i}:`+o.response.data.name},r.addCurrencies(e)),e)return[{coinDecimals:e.coinDecimals,coinGeckoId:e.coinGeckoId,coinImageUrl:e.coinImageUrl,coinMinimalDenom:n.denom,coinDenom:this.coinDenomGenerator(s,r,t,e),paths:s.paths,originChainId:r.chainId,originCurrency:e},!0]}else{a=r.findCurrency(s.denom);if(a&&!("paths"in a))return[{coinDecimals:a.coinDecimals,coinGeckoId:a.coinGeckoId,coinImageUrl:a.coinImageUrl,coinMinimalDenom:n.denom,coinDenom:this.coinDenomGenerator(s,r,t,a),paths:s.paths,originChainId:r.chainId,originCurrency:a},!0]}return[{coinDecimals:0,coinMinimalDenom:n.denom,coinDenom:this.coinDenomGenerator(s,r,t,void 0),paths:s.paths,originChainId:void 0,originCurrency:void 0},!1]}}return[void 0,!1]}}}s([c.observable],n.prototype,"isInitialized",void 0),s([c.observable],n.prototype,"isInitializing",void 0),s([c.observable.shallow],n.prototype,"cacheDenomTracePaths",void 0),s([c.flow],n.prototype,"restoreCache",null),s([c.flow],n.prototype,"setCacheIBCDenomData",null),t.IBCCurrencyRegsitrarInner=n;class a{constructor(e,t=864e5,r,s,n,i,o=a.defaultCoinDenomGenerator){this.kvStore=e,this.cacheDuration=t,this.chainStore=r,this.accountStore=s,this.queriesStore=n,this.cosmwasmQueriesStore=i,this.coinDenomGenerator=o,this.map=new Map,this.chainStore.addSetChainInfoHandler(e=>this.setChainInfoHandler(e))}static defaultCoinDenomGenerator(e,t,r,s){return s?`${s.coinDenom} (${r?r.chainName:"Unknown"}/${e.paths[0].channelId})`:`${e.denom} (${r?r.chainName:"Unknown"}/${e.paths[0].channelId})`}setChainInfoHandler(e){const t=this.get(e);e.registerCurrencyRegistrar(e=>t.registerUnknownCurrencies(e))}get(e){return this.map.has(e.chainId)||c.runInAction(()=>{this.map.set(e.chainId,new n(this.kvStore,this.cacheDuration,e,this.chainStore,this.accountStore,this.queriesStore,this.cosmwasmQueriesStore,this.coinDenomGenerator))}),this.map.get(e.chainId)}}s([c.observable.shallow],a.prototype,"map",void 0),t.IBCCurrencyRegsitrar=a},1503:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeplrETCQueriesImpl=t.KeplrETCQueries=void 0;const i=r(1256),o=r(1257);t.KeplrETCQueries={use(n){return(e,t,r,s)=>({keplrETC:new a(e,t,r,s,n.ethereumURL)})}};class a{constructor(e,t,r,s,n){this.queryERC20Metadata=new i.ObservableQueryERC20Metadata(t,n),this.queryEVMTokenInfo=new o.ObservableQueryEVMTokenInfo(t,r,s)}}t.KeplrETCQueriesImpl=a},1504:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryERC20Metadata=t.ObservableQueryERC20MetadataInner=t.ObservableQueryERC20MetadataDecimals=t.ObservableQueryERC20MetadataSymbol=t.ObservableQueryERC20MetadataName=void 0,r(43));const o=n(r(60));n=r(1312);const a=r(5),c=new n.Interface([{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"}]);class u extends i.ObservableJsonRPCQuery{constructor(e,t,r){super(e,o.default.create(Object.assign({baseURL:t})),"","eth_call",[{to:r,data:c.encodeFunctionData("name")},"latest"]),a.makeObservable(this)}get name(){if(this.response)try{return c.decodeFunctionResult("name",this.response.data)[0]}catch(e){}}}s([a.computed],u.prototype,"name",null),t.ObservableQueryERC20MetadataName=u;class l extends i.ObservableJsonRPCQuery{constructor(e,t,r){super(e,o.default.create(Object.assign({baseURL:t})),"","eth_call",[{to:r,data:c.encodeFunctionData("symbol")},"latest"]),a.makeObservable(this)}get symbol(){if(this.response)try{return c.decodeFunctionResult("symbol",this.response.data)[0]}catch(e){}}}s([a.computed],l.prototype,"symbol",null),t.ObservableQueryERC20MetadataSymbol=l;class h extends i.ObservableJsonRPCQuery{constructor(e,t,r){super(e,o.default.create(Object.assign({baseURL:t})),"","eth_call",[{to:r,data:c.encodeFunctionData("decimals")},"latest"]),a.makeObservable(this)}get decimals(){if(this.response)try{return c.decodeFunctionResult("decimals",this.response.data)[0]}catch(e){}}}s([a.computed],h.prototype,"decimals",null),t.ObservableQueryERC20MetadataDecimals=h;class d{constructor(e,t,r){this._queryName=new u(e,t,r),this._querySymbol=new l(e,t,r),this._queryDecimals=new h(e,t,r)}get queryName(){return this._queryName}get querySymbol(){return this._querySymbol}get symbol(){return this._querySymbol.symbol}get name(){return this._queryName.name}get decimals(){return this._queryDecimals.decimals}}t.ObservableQueryERC20MetadataInner=d;class p extends i.HasMapStore{constructor(e,t){super(e=>new d(this.kvStore,this.ethereumURL,e)),this.kvStore=e,this.ethereumURL=t}get(e){return super.get(e)}}t.ObservableQueryERC20Metadata=p},1505:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.AxelarEVMBridgeCurrencyRegistrar=t.AxelarEVMBridgeCurrencyRegistrarInner=void 0;const n=r(5);class i{constructor(e,t,r,s,n){this.kvStore=e,this.chainInfoInner=t,this.chainStore=r,this.queriesStore=s,this.mainChain=n}registerUnknownCurrencies(e){var t=this.chainStore.getChain(this.chainInfoInner.chainId);if(t.features&&t.features.includes("axelar-evm-bridge"))return(t=this.queriesStore.get(this.chainInfoInner.chainId).keplrETC.queryEVMTokenInfo.getAsset(this.mainChain,e)).symbol&&null!=t.decimals&&t.isConfirmed?[{coinMinimalDenom:e,coinDenom:t.symbol,coinDecimals:t.decimals},!t.isFetching]:t.isFetching?[void 0,!1]:void 0}}t.AxelarEVMBridgeCurrencyRegistrarInner=i;class o{constructor(e,t,r,s){this.kvStore=e,this.chainStore=t,this.queriesStore=r,this.mainChain=s,this.map=new Map,this.chainStore.addSetChainInfoHandler(e=>this.setChainInfoHandler(e))}setChainInfoHandler(e){const t=this.get(e);e.registerCurrencyRegistrar(e=>t.registerUnknownCurrencies(e))}get(e){return this.map.has(e.chainId)||n.runInAction(()=>{this.map.set(e.chainId,new i(this.kvStore,e,this.chainStore,this.queriesStore,this.mainChain))}),this.map.get(e.chainId)}}s([n.observable.shallow],o.prototype,"map",void 0),t.AxelarEVMBridgeCurrencyRegistrar=o},1506:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryEVMTokenInfo=t.ObservableQueryEVMTokenInfoInner=void 0;r=r(43);class s extends r.ObservableChainQuery{constructor(e,t,r,s,n){super(e,t,r,`/axelar/evm/v1beta1/token_info/${s}?asset=`+n),this._chain=s,this._denom=n}get chain(){return this._chain}get denom(){return this._denom}get tokenName(){var e;return null==(e=this.response)?void 0:e.data.details.token_name}get symbol(){var e;return null==(e=this.response)?void 0:e.data.details.symbol}get decimals(){var e;return null==(e=this.response)?void 0:e.data.details.decimals}get isConfirmed(){var e;return null==(e=this.response)?void 0:e.data.confirmed}get isExternal(){var e;return null==(e=this.response)?void 0:e.data.is_external}}t.ObservableQueryEVMTokenInfoInner=s;class n extends r.ObservableChainQueryMap{constructor(e,t,r){super(e,t,r,e=>{var t=e.indexOf("/"),r=e.slice(0,t),e=e.slice(t+1);return new s(this.kvStore,this.chainId,this.chainGetter,r,e)}),this.kvStore=e,this.chainId=t,this.chainGetter=r}getAsset(e,t){return this.get(e+"/"+t)}}t.ObservableQueryEVMTokenInfo=n},1507:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1508),t)},1508:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0}),t.GravityBridgeCurrencyRegsitrar=t.GravityBridgeCurrencyRegsitrarInner=void 0;const n=r(5),i=r(27);class o{constructor(e,t,r,s){this.kvStore=e,this.chainInfoInner=t,this.chainStore=r,this.queriesStore=s}registerUnknownCurrencies(e){var t,r,e=new i.DenomHelper(e);if("native"===e.type&&e.denom.startsWith("gravity0x"))return r=this.queriesStore.get(this.chainInfoInner.chainId),t=e.denom.replace("gravity",""),(r=r.keplrETC.queryERC20Metadata.get(t)).symbol&&null!=r.decimals?[{coinMinimalDenom:e.denom,coinDenom:r.symbol,coinDecimals:r.decimals},!0]:[void 0,!1]}}t.GravityBridgeCurrencyRegsitrarInner=o;class a{constructor(e,t,r){this.kvStore=e,this.chainStore=t,this.queriesStore=r,this.map=new Map,this.chainStore.addSetChainInfoHandler(e=>this.setChainInfoHandler(e))}setChainInfoHandler(e){const t=this.get(e);e.registerCurrencyRegistrar(e=>t.registerUnknownCurrencies(e))}get(e){return this.map.has(e.chainId)||n.runInAction(()=>{this.map.set(e.chainId,new o(this.kvStore,e,this.chainStore,this.queriesStore))}),this.map.get(e.chainId)}}s([n.observable.shallow],a.prototype,"map",void 0),t.GravityBridgeCurrencyRegsitrar=a},183:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageRegistry=void 0;t.MessageRegistry=class{constructor(){this.registeredMsgType=new Map}registerMessage(e){if(this.registeredMsgType.has(e.type()))throw new Error("Already registered type "+e.type());this.registeredMsgType.set(e.type(),e)}parseMessage(e){if(!e.type)throw new Error("Null type");var t=this.registeredMsgType.get(e.type);if(t)return Object.setPrototypeOf(e.msg,t.prototype);throw new Error("Unregistered msg type "+e.type)}}},184:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSONUint8Array=void 0;const s=r(326);class n{static parse(e){return JSON.parse(e,(e,t)=>{if("__proto__"===e)throw new Error("__proto__ is disallowed");return t&&"string"==typeof t&&t.startsWith("__uint8array__")?s.fromHex(t.replace("__uint8array__","")):t})}static stringify(e){return JSON.stringify(e,(e,t)=>{if("__proto__"===e)throw new Error("__proto__ is disallowed");return t&&(t instanceof Uint8Array||"object"==typeof t&&"type"in t&&"data"in t&&"Buffer"===t.type&&Array.isArray(t.data))?(e=t instanceof Uint8Array?t:new Uint8Array(t.data),"__uint8array__"+s.toHex(e)):t})}static wrap(e){if(void 0!==e)return JSON.parse(n.stringify(e))}static unwrap(e){if(void 0!==e)return n.parse(JSON.stringify(e))}}t.JSONUint8Array=n},188:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getKeplrExtensionRouterId=void 0,t.getKeplrExtensionRouterId=function(){var e="undefined"!=typeof window?window:chrome;return null==e.keplrExtensionRouterId&&(e.keplrExtensionRouterId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)),e.keplrExtensionRouterId}},266:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(583),t),n(r(584),t)},3:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(325),t),n(r(327),t),n(r(328),t),n(r(329),t),n(r(330),t),n(r(331),t),n(r(332),t),n(r(183),t),n(r(184),t)},325:function(e,t,r){"use strict";var s=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.Router=void 0;const n=r(183),a=r(184);t.Router=class{constructor(e){this.envProducer=e,this.msgRegistry=new n.MessageRegistry,this.registeredHandler=new Map,this.guards=[],this.port=""}registerMessage(e){this.msgRegistry.registerMessage(e)}addHandler(e,t){if(this.registeredHandler.has(e))throw new Error("Already registered type "+e);this.registeredHandler.set(e,t)}addGuard(e){this.guards.push(e)}handleMessage(n,i){var o;return s(this,void 0,void 0,function*(){var e=this.msgRegistry.parseMessage(a.JSONUint8Array.unwrap(n)),t=this.envProducer(i,null!=(o=e.routerMeta)?o:{});for(const s of this.guards)yield s(t,e,i);e.validateBasic();var r=e.route();if(!r)throw new Error("Null router");r=this.registeredHandler.get(r);if(r)return a.JSONUint8Array.wrap(yield r(t,e));throw new Error("Can't get handler")})}}},326:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromHex=t.toHex=void 0,t.toHex=function(e){let t="";for(const r of e)t+=("0"+r.toString(16)).slice(-2);return t},t.fromHex=function(t){if(t.length%2!=0)throw new Error("hex string length must be a multiple of 2");var r=[];for(let e=0;e<t.length;e+=2){var s=t.substr(e,2);if(!s.match(/[0-9a-f]{2}/i))throw new Error("hex string contains invalid characters");r.push(parseInt(s,16))}return new Uint8Array(r)}},327:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},328:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},329:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},330:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeplrError=void 0;class s extends Error{constructor(e,t,r){super(r),this.module=e,this.code=t,Object.setPrototypeOf(this,s.prototype)}}t.KeplrError=s},331:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Message=void 0;t.Message=class{approveExternal(e,t){return!1}}},332:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WEBPAGE_PORT=t.APP_PORT=t.BACKGROUND_PORT=void 0,t.BACKGROUND_PORT="background",t.APP_PORT="popup",t.WEBPAGE_PORT="webpage"},43:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1411),t),n(r(119),t),n(r(1426),t),n(r(1427),t),n(r(1481),t),n(r(1482),t),n(r(1493),t)},509:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableQueryBalances=t.ObservableQueryBalancesInner=t.ObservableQueryBalanceInner=void 0,r(59));const i=r(27),o=r(5),a=r(26);var c=r(119);const u=r(201);class l extends n.ObservableChainQuery{constructor(e,t,r,s,n){super(e,t,r,s),this.denomHelper=n,o.makeObservable(this)}get currency(){var e=this.denomHelper.denom,t=this.chainGetter.getChain(this.chainId).findCurrency(e);if(t)return t;throw new Error("Unknown currency: "+e)}}s([o.computed],l.prototype,"currency",null),t.ObservableQueryBalanceInner=l;class h{constructor(e,t,r,s,n){this.kvStore=e,this.chainId=t,this.chainGetter=r,this.balanceRegistries=s,this.balanceMap=new Map,this.getBalanceFromCurrency=u.computedFn(t=>{var e=this.balances.find(e=>e.currency.coinMinimalDenom===t.coinMinimalDenom);return e?e.balance:new a.CoinPretty(t,new a.Int(0))}),o.makeObservable(this),this.bech32Address=n}fetch(){this.balanceMap.forEach(e=>e.fetch())}getBalanceInner(r){let s=r.coinMinimalDenom;return"type"in r&&"secret20"===r.type&&(s=r.coinMinimalDenom+"/"+r.viewingKey),this.balanceMap.has(s)||o.runInAction(()=>{let e;for(const t of this.balanceRegistries)if(e=t.getBalanceInner(this.chainId,this.chainGetter,this.bech32Address,r.coinMinimalDenom))break;if(!e)throw new Error("Failed to get and parse the balance for "+s);this.balanceMap.set(s,e)}),this.balanceMap.get(s)}get stakable(){var e=this.chainGetter.getChain(this.chainId);return this.getBalanceInner(e.stakeCurrency)}get balances(){var t=this.chainGetter.getChain(this.chainId),r=[];for(let e=0;e<t.currencies.length;e++){var s=t.currencies[e];r.push(this.getBalanceInner(s))}return r}get positiveBalances(){return this.balances.filter(e=>e.balance.toDec().gt(new a.Dec(0)))}get nonNativeBalances(){return this.balances.filter(e=>"native"!==new i.DenomHelper(e.currency.coinMinimalDenom).type)}get positiveNativeUnstakables(){const t=this.chainGetter.getChain(this.chainId);return this.balances.filter(e=>"native"===new i.DenomHelper(e.currency.coinMinimalDenom).type&&e.balance.toDec().gt(new a.Dec(0))&&e.currency.coinMinimalDenom!==t.stakeCurrency.coinMinimalDenom)}get unstakables(){const t=this.chainGetter.getChain(this.chainId);var r=t.currencies.filter(e=>e.coinMinimalDenom!==t.stakeCurrency.coinMinimalDenom),s=[];for(let e=0;e<r.length;e++){var n=r[e];s.push(this.getBalanceInner(n))}return s}}s([o.observable.shallow],h.prototype,"balanceMap",void 0),s([o.computed],h.prototype,"stakable",null),s([o.computed],h.prototype,"balances",null),s([o.computed],h.prototype,"positiveBalances",null),s([o.computed],h.prototype,"nonNativeBalances",null),s([o.computed],h.prototype,"positiveNativeUnstakables",null),s([o.computed],h.prototype,"unstakables",null),t.ObservableQueryBalancesInner=h;class d extends c.HasMapStore{constructor(e,t,r){super(e=>new h(this.kvStore,this.chainId,this.chainGetter,this.balanceRegistries,e)),this.kvStore=e,this.chainId=t,this.chainGetter=r,this.balanceRegistries=[]}addBalanceRegistry(e){this.balanceRegistries.push(e)}getQueryBech32Address(e){return this.get(e)}}t.ObservableQueryBalances=d},56:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(581),t),n(r(266),t),n(r(585),t),n(r(588),t)},581:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(582),t)},582:function(e,t,r){"use strict";var s=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionRouter=void 0;const n=r(3),i=r(188);class o extends n.Router{constructor(e){super(e),this.onMessage=(e,t)=>{var r;if(e.port===this.port&&(null==(r=null==(r=e.msg)?void 0:r.routerMeta)||!r.receiverRouterId||e.msg.routerMeta.receiverRouterId===i.getKeplrExtensionRouterId()))return this.onMessageHandler(e,t)}}listen(e){if(!e)throw new Error("Empty port");this.port=e,browser.runtime.onMessage.addListener(this.onMessage)}unlisten(){this.port="",browser.runtime.onMessage.removeListener(this.onMessage)}onMessageHandler(e,t){return s(this,void 0,void 0,function*(){try{return{return:yield this.handleMessage(e,t)}}catch(e){return e instanceof n.KeplrError?Promise.resolve({error:{code:e.code,module:e.module,message:e.message||e.toString()}}):e?Promise.resolve({error:e.message||e.toString()}):Promise.resolve({error:"Unknown error, and error is null"})}})}}t.ExtensionRouter=o},583:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.InExtensionMessageRequester=void 0;const o=r(3),a=r(188);t.InExtensionMessageRequester=class{sendMessage(r,s){return i(this,void 0,void 0,function*(){s.validateBasic(),s.origin="undefined"!=typeof window?window.location.origin:"chrome-extension://"+browser.runtime.id,s.routerMeta=Object.assign(Object.assign({},s.routerMeta),{routerId:a.getKeplrExtensionRouterId()});var e=o.JSONUint8Array.unwrap(yield new Promise(t=>{chrome.runtime.sendMessage({port:r,type:s.type(),msg:o.JSONUint8Array.wrap(s)},e=>{t(e)})}));if(!e)throw new Error("Null result");if(e.error)throw"string"==typeof e.error?new Error(e.error):new o.KeplrError(e.error.module,e.error.code,e.error.message);return e.return})}static sendMessageToTab(r,s,n){return i(this,void 0,void 0,function*(){n.validateBasic(),n.origin="undefined"!=typeof window?window.location.origin:"chrome-extension://"+browser.runtime.id,n.routerMeta=Object.assign(Object.assign({},n.routerMeta),{routerId:a.getKeplrExtensionRouterId()});var e=o.JSONUint8Array.unwrap(yield new Promise(t=>{chrome.tabs.sendMessage(r,{port:s,type:n.type(),msg:o.JSONUint8Array.wrap(n)},e=>{t(e)})}));if(!e)throw new Error("Null result");if(e.error)throw"string"==typeof e.error?new Error(e.error):new o.KeplrError(e.error.module,e.error.code,e.error.message);return e.return})}}},584:function(e,t,r){"use strict";var s=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.ContentScriptMessageRequester=void 0;const o=r(3),a=r(188);t.ContentScriptMessageRequester=class{sendMessage(n,i){return s(this,void 0,void 0,function*(){i.validateBasic(),i.origin="undefined"!=typeof window?window.location.origin:"chrome-extension://"+browser.runtime.id,i.routerMeta=Object.assign(Object.assign({},i.routerMeta),{routerId:a.getKeplrExtensionRouterId()});var t=o.JSONUint8Array.wrap(i),r=(yield browser.tabs.query({discarded:!1,status:"complete"})).filter(e=>{if(e.url)return-1<e.url.indexOf(browser.runtime.id)&&-1<e.url.indexOf("interaction=true&interactionInternal=false")||-1<e.url.indexOf("mises.site")||-1<e.url.indexOf("localhost")});for(let e=0;e<r.length;e++){var s=r[e].id;if(s)try{chrome.tabs.sendMessage(s,{port:n,type:i.type(),msg:t},e=>{})}catch(e){}}})}}},585:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(586),t),n(r(587),t)},586:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionGuards=void 0;class s{}(t.ExtensionGuards=s).checkOriginIsValid=(e,t,r)=>{if(!r.url)throw new Error("url is empty");if(!t.origin)throw new Error("origin is empty");if(new URL(r.url).origin!==t.origin)throw new Error("Invalid origin");return Promise.resolve()},s.checkMessageIsInternal=(e,t,r)=>{if(e.isInternalMsg||t.approveExternal(e,r))return Promise.resolve();throw new Error("Permission rejected")}},587:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContentScriptGuards=void 0;class s{}(t.ContentScriptGuards=s).checkMessageIsInternal=(e,t,r)=>{if(!e.isInternalMsg||t.approveExternal(e,r))throw new Error("Content script can't handle the message that is able to be sent from external");return Promise.resolve()}},588:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(589),t),n(r(590),t)},589:function(e,t,r){"use strict";var u=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionEnv=void 0;const l=r(3),h=r(46),d=r(266);const p=new class{constructor(){this.workingOnPromise=!1,this.queue=[]}enqueue(r){return new Promise((e,t)=>{this.queue.push({fn:r,resolve:e,reject:t}),this.dequeue()})}dequeue(){if(!this.workingOnPromise){const t=this.queue.shift();t&&(this.workingOnPromise=!0,t.fn().then(e=>{t.resolve(e)}).catch(e=>{t.reject(e)}).finally(()=>{this.workingOnPromise=!1,this.dequeue()}))}}};class s{}(t.ExtensionEnv=s).produceEnv=(i,o)=>{var e=s.checkIsInternalMessage(i,browser.runtime.id,browser.runtime.getURL("/"));const a="interaction=true&interactionInternal="+e,c=(t,r,n)=>u(void 0,void 0,void 0,function*(){t.startsWith("/")&&(t=t.slice(1)),t=browser.runtime.getURL("/popup.html#/"+t),t+=(t.includes("?")?"&":"?")+a;let s;var e=yield function(e,t="default"){return u(this,void 0,void 0,function*(){return yield p.enqueue(()=>h.isMobileStatus()?h.openPopupTab(e,t):h.openPopupWindow(e,t))})}(t,null==n?void 0:n.channel);return s=h.isMobileStatus()?e:(yield browser.windows.get(e,{populate:!0})).tabs[0].id,yield u(void 0,void 0,void 0,function*(){var e=yield browser.tabs.get(s);if("complete"!==e.status)return new Promise(r=>{browser.tabs.onUpdated.addListener((e,t)=>{s===e&&"complete"===t.status&&r()})})}),yield d.InExtensionMessageRequester.sendMessageToTab(s,l.APP_PORT,r)});return e?{isInternalMsg:e,requestInteraction:(r,s,n)=>u(void 0,void 0,void 0,function*(){var e;if(null!=n&&n.forceOpenWindow)return yield c(r,s,n);if(r.startsWith("/")&&(r=r.slice(1)),(r=browser.runtime.getURL("/popup.html#/"+r)).includes("?")?r+="&"+a:r+="?"+a,null!=(e=i.tab)&&e.id){let e=yield browser.tabs.query({discarded:!1,status:"complete"});if(0<(e=e.filter(e=>e.url&&-1<e.url.indexOf(browser.runtime.id))).length)for(const t of e)t.id&&browser.tabs.update(t.id,{url:r})}return s.routerMeta=Object.assign(Object.assign({},s.routerMeta),{receiverRouterId:o.routerId}),yield(new d.InExtensionMessageRequester).sendMessage(l.APP_PORT,s)})}:{isInternalMsg:e,requestInteraction:c}},s.checkIsInternalMessage=(e,t,r)=>{if(!e.url)throw new Error("Empty sender url");var s=new URL(e.url);if(!s.origin||"null"===s.origin)throw new Error("Invalid sender url");r=new URL(r);if(r.origin&&"null"!==r.origin)return s.origin===r.origin&&e.id===t;throw new Error("Invalid browser url")}},59:function(e,t,r){"use strict";var s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableChainQueryMap=t.ObservableChainQuery=void 0,r(119));const o=n(r(60));n=r(5),r=r(119);class a extends i.ObservableQuery{constructor(e,t,r,s){var n=r.getChain(t);super(e,o.default.create(Object.assign({baseURL:n.rest},n.restConfig)),s),this._chainId=t,this.chainGetter=r,this.fetchConfig={retry:3,retryDelay:1e3}}get instance(){var e=this.chainGetter.getChain(this.chainId);return o.default.create(Object.assign({baseURL:e.rest},e.restConfig))}get chainId(){return this._chainId}}s([n.override],a.prototype,"instance",null),t.ObservableChainQuery=a;class c extends r.HasMapStore{constructor(e,t,r,s){super(s),this.kvStore=e,this.chainId=t,this.chainGetter=r}}t.ObservableChainQueryMap=c},590:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContentScriptEnv=void 0;class s{}(t.ContentScriptEnv=s).produceEnv=e=>{return{isInternalMsg:e.id===browser.runtime.id,requestInteraction:()=>{throw new Error("ContentScriptEnv doesn't support `requestInteraction`")}}}},628:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.txEventsWithPreOnFulfill=void 0,t.txEventsWithPreOnFulfill=function(e,t){const r=!e||"function"==typeof e?void 0:e.onBroadcasted,s=e?"function"==typeof e?e:e.onFulfill:void 0,n=!t||"function"==typeof t?void 0:t.onBroadcasted,i=t?"function"==typeof t?t:t.onFulfill:void 0;if(r||s||n||i)return{onBroadcasted:r||n?e=>{n&&n(e),r&&r(e)}:void 0,onFulfill:s||i?e=>{i&&i(e),s&&s(e)}:void 0}}},638:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){e[s=void 0===s?r:s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(1503),t),n(r(1256),t),n(r(1507),t),n(r(1257),t)},862:function(e,t,r){"use strict";var n,s=this&&this.__decorate||function(e,t,r,s){var n,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,s);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(o=(i<3?n(o):3<i?n(t,r,o):n(t,r))||o);return 3<i&&o&&Object.defineProperty(t,r,o),o},c=this&&this.__awaiter||function(e,o,a,c){return new(a=a||Promise)(function(r,t){function s(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(s,n)}i((c=c.apply(e,o||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.AccountSetBaseSuper=t.AccountSetBase=t.WalletStatus=void 0;const i=r(5),u=r(27),o=r(16);(r=n=t.WalletStatus||(t.WalletStatus={})).NotInit="NotInit",r.Loading="Loading",r.Loaded="Loaded",r.NotExist="NotExist",r.Rejected="Rejected";class a{constructor(e,t,r,s){this.eventListener=e,this.chainGetter=t,this.chainId=r,this.opts=s,this._walletVersion=void 0,this._walletStatus=n.NotInit,this._rejectionReason=void 0,this._name="",this._bech32Address="",this._isNanoLedger=!1,this._txTypeInProgress="",this._txNotification="",this.hasInited=!1,this.sendTokenFns=[],this.makeSendTokenTxFns=[],this.handleInit=()=>this.init(),i.makeObservable(this),this._pubKey=new Uint8Array,s.autoInit&&this.init()}getKeplr(){return this.opts.getKeplr()}registerSendTokenFn(e){this.sendTokenFns.push(e)}registerMakeSendTokenFn(e){this.makeSendTokenTxFns.push(e)}enable(t,r){return c(this,void 0,void 0,function*(){var e=this.chainGetter.getChain(r);this.opts.suggestChain&&(this.opts.suggestChainFn?yield this.opts.suggestChainFn(t,e):yield this.suggestChain(t,e)),yield t.enable(r)})}suggestChain(e,t){return c(this,void 0,void 0,function*(){yield e.experimentalSuggestChain(t.raw)})}*init(){if(this.walletStatus!==n.NotExist){this.hasInited||this.eventListener.addEventListener("mises_keystorechange",this.handleInit),this.hasInited=!0,this._walletStatus=n.Loading;var e=yield*u.toGenerator(this.getKeplr());if(e){this._walletVersion=e.version;try{yield this.enable(e,this.chainId)}catch(e){return this._walletStatus=n.Rejected,void(this._rejectionReason=e)}try{var t=yield*u.toGenerator(e.getKey(this.chainId));this._bech32Address=t.bech32Address,this._isNanoLedger=t.isNanoLedger,this._name=t.name,this._pubKey=t.pubKey,this._walletStatus=n.Loaded}catch(e){this._bech32Address="",this._isNanoLedger=!1,this._name="",this._pubKey=new Uint8Array(0),this._walletStatus=n.Rejected,this._rejectionReason=e}this._walletStatus!==n.Rejected&&(this._rejectionReason=void 0)}else this._walletStatus=n.NotExist}}disconnect(){this._walletStatus=n.NotInit,this.hasInited=!1,this.eventListener.removeEventListener("mises_keystorechange",this.handleInit),this._bech32Address="",this._isNanoLedger=!1,this._name="",this._pubKey=new Uint8Array(0),this._rejectionReason=void 0}get walletVersion(){return this._walletVersion}get isReadyToSendTx(){return this.walletStatus===n.Loaded&&""!==this.bech32Address}get isReadyToSendMsgs(){return this.walletStatus===n.Loaded&&""!==this.bech32Address}makeSendTokenTx(t,r,s){for(let e=0;e<this.makeSendTokenTxFns.length;e++){var n=(0,this.makeSendTokenTxFns[e])(t,r,s);if(n)return n}var e=new u.DenomHelper(r.coinMinimalDenom);throw new Error(`Unsupported type of currency (${e.type})`)}sendToken(t,r,s,n="",i={},o,a){return c(this,void 0,void 0,function*(){for(let e=0;e<this.sendTokenFns.length;e++)if(yield(0,this.sendTokenFns[e])(t,r,s,n,i,o,a))return;var e=new u.DenomHelper(r.coinMinimalDenom);throw new Error(`Unsupported type of currency (${e.type})`)})}get walletStatus(){return this._walletStatus}get rejectionReason(){return this._rejectionReason}get name(){return this._name}get bech32Address(){return this._bech32Address}get pubKey(){return this._pubKey.slice()}get isNanoLedger(){return this._isNanoLedger}get txTypeInProgress(){return this._txTypeInProgress}get txNotification(){return this._txNotification}get isSendingMsg(){return this.txTypeInProgress}get hasEthereumHexAddress(){var e;return null!=(e=null==(e=this.chainGetter.getChain(this.chainId).features)?void 0:e.includes("eth-address-gen"))&&e}get ethereumHexAddress(){return""===this.bech32Address?"":o.Bech32Address.fromBech32(this.bech32Address,this.chainGetter.getChain(this.chainId).bech32Config.bech32PrefixAccAddr).toHex(!0)}}s([i.observable],a.prototype,"_walletVersion",void 0),s([i.observable],a.prototype,"_walletStatus",void 0),s([i.observable.ref],a.prototype,"_rejectionReason",void 0),s([i.observable],a.prototype,"_name",void 0),s([i.observable],a.prototype,"_bech32Address",void 0),s([i.observable],a.prototype,"_isNanoLedger",void 0),s([i.observable],a.prototype,"_txTypeInProgress",void 0),s([i.observable],a.prototype,"_txNotification",void 0),s([i.flow],a.prototype,"init",null),s([i.action],a.prototype,"disconnect",null),s([i.computed],a.prototype,"isReadyToSendTx",null),s([i.computed],a.prototype,"isReadyToSendMsgs",null),s([i.computed],a.prototype,"ethereumHexAddress",null);class l extends(t.AccountSetBase=a){constructor(...e){super(...e),i.makeObservable(this)}setTxTypeInProgress(e){this._txTypeInProgress=e}setTxNotification(e){this._txNotification=e}}s([i.action],l.prototype,"setTxTypeInProgress",null),s([i.action],l.prototype,"setTxNotification",null),t.AccountSetBaseSuper=l},863:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BondStatus=void 0,(t=t.BondStatus||(t.BondStatus={})).Unbonded="Unbonded",t.Unbonding="Unbonding",t.Bonded="Bonded",t.Unspecified="Unspecified"}}]);